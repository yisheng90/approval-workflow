{
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nrequire(\"dotenv/config\");\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _approvalStatus = require(\"./controllers/approval-status\");\n\nvar _models = require(\"./models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express[\"default\"])();\nvar PORT = process.env.PORT || 3000;\napp.use(_bodyParser[\"default\"].json());\napp.get('/', _approvalStatus.getAllPrograms);\napp.post('/new', _approvalStatus.createProgram);\napp.put('/program/:id/approve', _approvalStatus.approveProgram);\n(0, _models.connectDb)().then(\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\nregeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          app.listen(PORT, function () {\n            return console.log(\"Hello. You are listening on port \".concat(PORT, \" \\uD83D\\uDE80\"));\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJnZXQiLCJnZXRBbGxQcm9ncmFtcyIsInBvc3QiLCJjcmVhdGVQcm9ncmFtIiwicHV0IiwiYXBwcm92ZVByb2dyYW0iLCJ0aGVuIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFDQSxJQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBQWpDO0FBRUFELEdBQUcsQ0FBQ0ksR0FBSixDQUFRQyx1QkFBV0MsSUFBWCxFQUFSO0FBRUFOLEdBQUcsQ0FBQ08sR0FBSixDQUFRLEdBQVIsRUFBYUMsOEJBQWI7QUFDQVIsR0FBRyxDQUFDUyxJQUFKLENBQVMsTUFBVCxFQUFpQkMsNkJBQWpCO0FBQ0FWLEdBQUcsQ0FBQ1csR0FBSixDQUFRLHNCQUFSLEVBQWdDQyw4QkFBaEM7QUFFQSx5QkFBWUMsSUFBWjtBQUFBO0FBQUE7QUFBQTtBQUFBLHdCQUFpQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ2JiLFVBQUFBLEdBQUcsQ0FBQ2MsTUFBSixDQUFXYixJQUFYLEVBQWlCO0FBQUEsbUJBQU1jLE9BQU8sQ0FBQ0MsR0FBUiw0Q0FBZ0RmLElBQWhELG1CQUFOO0FBQUEsV0FBakI7O0FBRGE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsQ0FBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHtnZXRBbGxQcm9ncmFtcywgY3JlYXRlUHJvZ3JhbSwgYXBwcm92ZVByb2dyYW19IGZyb20gJy4vY29udHJvbGxlcnMvYXBwcm92YWwtc3RhdHVzJ1xuXG5pbXBvcnQge2Nvbm5lY3REYn0gZnJvbSAnLi9tb2RlbHMnXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMFxuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuXG5hcHAuZ2V0KCcvJywgZ2V0QWxsUHJvZ3JhbXMpXG5hcHAucG9zdCgnL25ldycsIGNyZWF0ZVByb2dyYW0pXG5hcHAucHV0KCcvcHJvZ3JhbS86aWQvYXBwcm92ZScsIGFwcHJvdmVQcm9ncmFtKVxuXG5jb25uZWN0RGIoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICBhcHAubGlzdGVuKFBPUlQsICgpID0+IGNvbnNvbGUubG9nKGBIZWxsby4gWW91IGFyZSBsaXN0ZW5pbmcgb24gcG9ydCAke1BPUlR9IPCfmoBgKSlcbn0pXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "PORT",
        "process",
        "env",
        "use",
        "bodyParser",
        "json",
        "get",
        "getAllPrograms",
        "post",
        "createProgram",
        "put",
        "approveProgram",
        "then",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AACA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AAEAD,GAAG,CAACI,GAAJ,CAAQC,uBAAWC,IAAX,EAAR;AAEAN,GAAG,CAACO,GAAJ,CAAQ,GAAR,EAAaC,8BAAb;AACAR,GAAG,CAACS,IAAJ,CAAS,MAAT,EAAiBC,6BAAjB;AACAV,GAAG,CAACW,GAAJ,CAAQ,sBAAR,EAAgCC,8BAAhC;AAEA,yBAAYC,IAAZ;AAAA;AAAA;AAAA;AAAA,wBAAiB;AAAA;AAAA;AAAA;AAAA;AACbb,UAAAA,GAAG,CAACc,MAAJ,CAAWb,IAAX,EAAiB;AAAA,mBAAMc,OAAO,CAACC,GAAR,4CAAgDf,IAAhD,mBAAN;AAAA,WAAjB;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
      "sourcesContent": [
        "import 'dotenv/config'\nimport bodyParser from 'body-parser'\nimport express from 'express'\nimport {getAllPrograms, createProgram, approveProgram} from './controllers/approval-status'\n\nimport {connectDb} from './models'\n\nconst app = express()\nconst PORT = process.env.PORT || 3000\n\napp.use(bodyParser.json())\n\napp.get('/', getAllPrograms)\napp.post('/new', createProgram)\napp.put('/program/:id/approve', approveProgram)\n\nconnectDb().then(async () => {\n    app.listen(PORT, () => console.log(`Hello. You are listening on port ${PORT} ðŸš€`))\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572780124679
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
        "sourceFileName": "approval-status.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProgram = exports.holdProgram = exports.rejectProgram = exports.approveProgram = exports.createProgram = exports.getAllPrograms = void 0;\n\nvar _program = require(\"../models/program\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar getAllPrograms =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(req, res) {\n    var programs;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _program.Program.find({});\n\n          case 3:\n            programs = _context.sent;\n            res.status(200).json({\n              data: programs.map(function (program) {\n                return {\n                  title: program.title,\n                  _id: program._id,\n                  transitions: program.transitions()\n                };\n              })\n            });\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            res.status(500).json(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function getAllPrograms(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.getAllPrograms = getAllPrograms;\n\nvar createProgram =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(req, res) {\n    var program;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            try {\n              program = new _program.Program();\n              program.title = req.body.title;\n              program.status = req.body.status;\n              program.save();\n              res.status(200).json({\n                data: {\n                  _id: program.id\n                }\n              });\n            } catch (err) {\n              res.status(500).json(err);\n            }\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function createProgram(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.createProgram = createProgram;\n\nvar approveProgram =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee3(req, res) {\n    var program;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _program.Program.findOne({\n              _id: req.params.id\n            });\n\n          case 3:\n            program = _context3.sent;\n            res.status(200).json({\n              data: {\n                success: program.approve()\n              }\n            });\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            res.status(500).json(_context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n\n  return function approveProgram(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.approveProgram = approveProgram;\n\nvar rejectProgram =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee4(req, res) {\n    var program;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _program.Program.findOne({\n              _id: req.params.id\n            });\n\n          case 3:\n            program = _context4.sent;\n            res.status(200).json({\n              data: {\n                success: program.reject()\n              }\n            });\n            _context4.next = 10;\n            break;\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            res.status(500).json(_context4.t0);\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n\n  return function rejectProgram(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.rejectProgram = rejectProgram;\n\nvar holdProgram =\n/*#__PURE__*/\nfunction () {\n  var _ref5 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee5(req, res) {\n    var program;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _program.Program.findOne({\n              _id: req.params.id\n            });\n\n          case 3:\n            program = _context5.sent;\n            res.status(200).json({\n              data: {\n                success: program.hold()\n              }\n            });\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5[\"catch\"](0);\n            res.status(500).json(_context5.t0);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 7]]);\n  }));\n\n  return function holdProgram(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nexports.holdProgram = holdProgram;\n\nvar deleteProgram =\n/*#__PURE__*/\nfunction () {\n  var _ref6 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee6(req, res) {\n    var program;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _program.Program.findOne({\n              _id: req.params.id\n            });\n\n          case 3:\n            program = _context6.sent;\n            program.remove();\n            res.status(200).json({\n              data: {\n                success: true\n              }\n            });\n            _context6.next = 11;\n            break;\n\n          case 8:\n            _context6.prev = 8;\n            _context6.t0 = _context6[\"catch\"](0);\n            res.status(500).json(_context6.t0);\n\n          case 11:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 8]]);\n  }));\n\n  return function deleteProgram(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexports.deleteProgram = deleteProgram;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcHJvdmFsLXN0YXR1cy5qcyJdLCJuYW1lcyI6WyJnZXRBbGxQcm9ncmFtcyIsInJlcSIsInJlcyIsIlByb2dyYW0iLCJmaW5kIiwicHJvZ3JhbXMiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1hcCIsInByb2dyYW0iLCJ0aXRsZSIsIl9pZCIsInRyYW5zaXRpb25zIiwiY3JlYXRlUHJvZ3JhbSIsImJvZHkiLCJzYXZlIiwiaWQiLCJlcnIiLCJhcHByb3ZlUHJvZ3JhbSIsImZpbmRPbmUiLCJwYXJhbXMiLCJzdWNjZXNzIiwiYXBwcm92ZSIsInJlamVjdFByb2dyYW0iLCJyZWplY3QiLCJob2xkUHJvZ3JhbSIsImhvbGQiLCJkZWxldGVQcm9ncmFtIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7OztBQUVPLElBQU1BLGNBQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBCQUFHLGlCQUFPQyxHQUFQLEVBQVlDLEdBQVo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUVDQyxpQkFBUUMsSUFBUixDQUFhLEVBQWIsQ0FGRDs7QUFBQTtBQUVoQkMsWUFBQUEsUUFGZ0I7QUFJdEJILFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxjQUFBQSxJQUFJLEVBQUVILFFBQVEsQ0FBQ0ksR0FBVCxDQUFhLFVBQUNDLE9BQUQsRUFBYTtBQUM1Qix1QkFBTztBQUNIQyxrQkFBQUEsS0FBSyxFQUFFRCxPQUFPLENBQUNDLEtBRFo7QUFFSEMsa0JBQUFBLEdBQUcsRUFBRUYsT0FBTyxDQUFDRSxHQUZWO0FBR0hDLGtCQUFBQSxXQUFXLEVBQUVILE9BQU8sQ0FBQ0csV0FBUjtBQUhWLGlCQUFQO0FBS0gsZUFOSztBQURXLGFBQXJCO0FBSnNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBY3RCWCxZQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQjs7QUFkc0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FBSDs7QUFBQSxrQkFBZFAsY0FBYztBQUFBO0FBQUE7QUFBQSxHQUFwQjs7OztBQWtCQSxJQUFNYyxhQUFhO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwwQkFBRyxrQkFBT2IsR0FBUCxFQUFZQyxHQUFaO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUN6QixnQkFBSTtBQUNNUSxjQUFBQSxPQUROLEdBQ2dCLElBQUlQLGdCQUFKLEVBRGhCO0FBRUFPLGNBQUFBLE9BQU8sQ0FBQ0MsS0FBUixHQUFnQlYsR0FBRyxDQUFDYyxJQUFKLENBQVNKLEtBQXpCO0FBQ0FELGNBQUFBLE9BQU8sQ0FBQ0osTUFBUixHQUFpQkwsR0FBRyxDQUFDYyxJQUFKLENBQVNULE1BQTFCO0FBQ0FJLGNBQUFBLE9BQU8sQ0FBQ00sSUFBUjtBQUVBZCxjQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsZ0JBQUFBLElBQUksRUFBRTtBQUNGSSxrQkFBQUEsR0FBRyxFQUFFRixPQUFPLENBQUNPO0FBRFg7QUFEVyxlQUFyQjtBQUtILGFBWEQsQ0FXRSxPQUFPQyxHQUFQLEVBQVk7QUFDVmhCLGNBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCVyxHQUFyQjtBQUNIOztBQWR3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFIOztBQUFBLGtCQUFiSixhQUFhO0FBQUE7QUFBQTtBQUFBLEdBQW5COzs7O0FBaUJBLElBQU1LLGNBQWM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBCQUFHLGtCQUFPbEIsR0FBUCxFQUFZQyxHQUFaO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFHQUMsaUJBQVFpQixPQUFSLENBQWdCO0FBQUNSLGNBQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDb0IsTUFBSixDQUFXSjtBQUFqQixhQUFoQixDQUhBOztBQUFBO0FBR2hCUCxZQUFBQSxPQUhnQjtBQUt0QlIsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLGNBQUFBLElBQUksRUFBRTtBQUNGYyxnQkFBQUEsT0FBTyxFQUFDWixPQUFPLENBQUNhLE9BQVI7QUFETjtBQURXLGFBQXJCO0FBTHNCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBWXRCckIsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEI7O0FBWnNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQUg7O0FBQUEsa0JBQWRZLGNBQWM7QUFBQTtBQUFBO0FBQUEsR0FBcEI7Ozs7QUFnQkEsSUFBTUssYUFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBQUcsa0JBQU92QixHQUFQLEVBQVlDLEdBQVo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUdDQyxpQkFBUWlCLE9BQVIsQ0FBZ0I7QUFBQ1IsY0FBQUEsR0FBRyxFQUFFWCxHQUFHLENBQUNvQixNQUFKLENBQVdKO0FBQWpCLGFBQWhCLENBSEQ7O0FBQUE7QUFHZlAsWUFBQUEsT0FIZTtBQUtyQlIsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLGNBQUFBLElBQUksRUFBRTtBQUNGYyxnQkFBQUEsT0FBTyxFQUFDWixPQUFPLENBQUNlLE1BQVI7QUFETjtBQURXLGFBQXJCO0FBTHFCO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBWXJCdkIsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEI7O0FBWnFCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQUg7O0FBQUEsa0JBQWJpQixhQUFhO0FBQUE7QUFBQTtBQUFBLEdBQW5COzs7O0FBZ0JBLElBQU1FLFdBQVc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDBCQUFHLGtCQUFPekIsR0FBUCxFQUFZQyxHQUFaO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFHR0MsaUJBQVFpQixPQUFSLENBQWdCO0FBQUNSLGNBQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDb0IsTUFBSixDQUFXSjtBQUFqQixhQUFoQixDQUhIOztBQUFBO0FBR2JQLFlBQUFBLE9BSGE7QUFLbkJSLFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxjQUFBQSxJQUFJLEVBQUU7QUFDRmMsZ0JBQUFBLE9BQU8sRUFBQ1osT0FBTyxDQUFDaUIsSUFBUjtBQUROO0FBRFcsYUFBckI7QUFMbUI7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFZbkJ6QixZQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQjs7QUFabUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FBSDs7QUFBQSxrQkFBWG1CLFdBQVc7QUFBQTtBQUFBO0FBQUEsR0FBakI7Ozs7QUFnQkEsSUFBTUUsYUFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMEJBQUcsa0JBQU8zQixHQUFQLEVBQVlDLEdBQVo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQUdDQyxpQkFBUWlCLE9BQVIsQ0FBZ0I7QUFBQ1IsY0FBQUEsR0FBRyxFQUFFWCxHQUFHLENBQUNvQixNQUFKLENBQVdKO0FBQWpCLGFBQWhCLENBSEQ7O0FBQUE7QUFHZlAsWUFBQUEsT0FIZTtBQUlyQkEsWUFBQUEsT0FBTyxDQUFDbUIsTUFBUjtBQUVBM0IsWUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLGNBQUFBLElBQUksRUFBRTtBQUNGYyxnQkFBQUEsT0FBTyxFQUFFO0FBRFA7QUFEVyxhQUFyQjtBQU5xQjtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQWFyQnBCLFlBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCOztBQWJxQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUFIOztBQUFBLGtCQUFicUIsYUFBYTtBQUFBO0FBQUE7QUFBQSxHQUFuQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Byb2dyYW19IGZyb20gJy4uL21vZGVscy9wcm9ncmFtJ1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsUHJvZ3JhbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9ncmFtcyA9IGF3YWl0IFByb2dyYW0uZmluZCh7fSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiBwcm9ncmFtcy5tYXAoKHByb2dyYW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZ3JhbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBwcm9ncmFtLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IHByb2dyYW0udHJhbnNpdGlvbnMoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKClcbiAgICAgICAgcHJvZ3JhbS50aXRsZSA9IHJlcS5ib2R5LnRpdGxlXG4gICAgICAgIHByb2dyYW0uc3RhdHVzID0gcmVxLmJvZHkuc3RhdHVzXG4gICAgICAgIHByb2dyYW0uc2F2ZSgpXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIF9pZDogcHJvZ3JhbS5pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBwcm92ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6cHJvZ3JhbS5hcHByb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVqZWN0UHJvZ3JhbSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGF3YWl0IFByb2dyYW0uZmluZE9uZSh7X2lkOiByZXEucGFyYW1zLmlkfSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzczpwcm9ncmFtLnJlamVjdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGhvbGRQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gYXdhaXQgUHJvZ3JhbS5maW5kT25lKHtfaWQ6IHJlcS5wYXJhbXMuaWR9KVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOnByb2dyYW0uaG9sZCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG4gICAgICAgIHByb2dyYW0ucmVtb3ZlKClcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "approval-status.js"
      ],
      "names": [
        "getAllPrograms",
        "req",
        "res",
        "Program",
        "find",
        "programs",
        "status",
        "json",
        "data",
        "map",
        "program",
        "title",
        "_id",
        "transitions",
        "createProgram",
        "body",
        "save",
        "id",
        "err",
        "approveProgram",
        "findOne",
        "params",
        "success",
        "approve",
        "rejectProgram",
        "reject",
        "holdProgram",
        "hold",
        "deleteProgram",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "sourcesContent": [
        "import {Program} from '../models/program'\n\nexport const getAllPrograms = async (req, res) => {\n    try {\n        const programs = await Program.find({})\n\n        res.status(200).json({\n            data: programs.map((program) => {\n                return {\n                    title: program.title,\n                    _id: program._id,\n                    transitions: program.transitions()\n                }\n            })\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const createProgram = async (req, res) => {\n    try {\n        const program = new Program()\n        program.title = req.body.title\n        program.status = req.body.status\n        program.save()\n\n        res.status(200).json({\n            data: {\n                _id: program.id\n            }\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const approveProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.approve()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const rejectProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.reject()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const holdProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.hold()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const deleteProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n        program.remove()\n\n        res.status(200).json({\n            data: {\n                success: true\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572784852185
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/program.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "program.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Program = exports.TransitionActions = exports.Statuses = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _uuidHelpers = require(\"../utils/helpers/uuid-helpers\");\n\nvar _stateMachine = require(\"../utils/services/state-machine\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Statuses = Object.freeze({\n  Pending: 'pending',\n  Approved: 'approved',\n  Rejected: 'rejected'\n});\nexports.Statuses = Statuses;\nvar TransitionActions = Object.freeze({\n  Hold: 'hold',\n  Approve: 'approve',\n  Reject: 'reject'\n});\nexports.TransitionActions = TransitionActions;\nvar stateTransitions = [{\n  name: TransitionActions.Hold,\n  from: [Statuses.Approved, Statuses.Rejected],\n  to: Statuses.Pending\n}, {\n  name: TransitionActions.Approve,\n  from: [Statuses.Pending, Statuses.Rejected],\n  to: Statuses.Approved\n}, {\n  name: TransitionActions.Reject,\n  from: [Statuses.Approved, Statuses.Pending],\n  to: Statuses.Rejected\n}];\nvar programSchema = new _mongoose[\"default\"].Schema({\n  _id: {\n    type: String,\n    \"default\": _uuidHelpers.generateUuid\n  },\n  title: {\n    type: String\n  },\n  status: {\n    type: String,\n    \"enum\": Object.values(Statuses),\n    \"default\": Statuses.Pending,\n    required: true\n  },\n  logs: [{\n    status: {\n      type: String,\n      \"enum\": Object.values(Statuses)\n    },\n    date: {\n      type: Date\n    }\n  }]\n}, {\n  timestamps: {\n    createdAt: true\n  }\n});\nprogramSchema.pre('save', function (next) {\n  var program = this;\n  var logs = program.logs || [];\n\n  if (logs.length === 0 || program.status !== logs[logs.length - 1].status) {\n    logs.push({\n      status: program.status,\n      date: Date[\"new\"]\n    });\n  }\n\n  program.logs = logs;\n  next();\n});\n\nprogramSchema.methods.approve = function () {\n  var stateMachine = (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  });\n\n  if (stateMachine.approve()) {\n    this.status = stateMachine.state();\n    this.save();\n    return true;\n  }\n\n  return false;\n};\n\nprogramSchema.methods.reject = function () {\n  var stateMachine = (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  });\n\n  if (stateMachine.reject()) {\n    this.status = stateMachine.state();\n    this.save();\n    return true;\n  }\n\n  return false;\n};\n\nprogramSchema.methods.hold = function () {\n  var stateMachine = (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  });\n\n  if (stateMachine.hold()) {\n    this.status = stateMachine.state();\n    this.save();\n    return true;\n  }\n\n  return false;\n};\n\nprogramSchema.methods.transitions = function () {\n  return (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  }).transitions();\n};\n\nvar Program = _mongoose[\"default\"].model('Program', programSchema);\n\nexports.Program = Program;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyYW0uanMiXSwibmFtZXMiOlsiU3RhdHVzZXMiLCJPYmplY3QiLCJmcmVlemUiLCJQZW5kaW5nIiwiQXBwcm92ZWQiLCJSZWplY3RlZCIsIlRyYW5zaXRpb25BY3Rpb25zIiwiSG9sZCIsIkFwcHJvdmUiLCJSZWplY3QiLCJzdGF0ZVRyYW5zaXRpb25zIiwibmFtZSIsImZyb20iLCJ0byIsInByb2dyYW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJnZW5lcmF0ZVV1aWQiLCJ0aXRsZSIsInN0YXR1cyIsInZhbHVlcyIsInJlcXVpcmVkIiwibG9ncyIsImRhdGUiLCJEYXRlIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInByZSIsIm5leHQiLCJwcm9ncmFtIiwibGVuZ3RoIiwicHVzaCIsIm1ldGhvZHMiLCJhcHByb3ZlIiwic3RhdGVNYWNoaW5lIiwiaW5pdCIsInRyYW5zaXRpb25zIiwic3RhdGUiLCJzYXZlIiwicmVqZWN0IiwiaG9sZCIsIlByb2dyYW0iLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRU8sSUFBTUEsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNsQ0MsRUFBQUEsT0FBTyxFQUFFLFNBRHlCO0FBRWxDQyxFQUFBQSxRQUFRLEVBQUUsVUFGd0I7QUFHbENDLEVBQUFBLFFBQVEsRUFBRTtBQUh3QixDQUFkLENBQWpCOztBQU1BLElBQU1DLGlCQUFpQixHQUFHTCxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUMzQ0ssRUFBQUEsSUFBSSxFQUFFLE1BRHFDO0FBRTNDQyxFQUFBQSxPQUFPLEVBQUUsU0FGa0M7QUFHM0NDLEVBQUFBLE1BQU0sRUFBRTtBQUhtQyxDQUFkLENBQTFCOztBQU1QLElBQU1DLGdCQUFnQixHQUFHLENBQUM7QUFDdEJDLEVBQUFBLElBQUksRUFBRUwsaUJBQWlCLENBQUNDLElBREY7QUFFdEJLLEVBQUFB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L3NlcnZlci9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuXG5pbXBvcnQge2dlbmVyYXRlVXVpZH0gZnJvbSAnLi4vdXRpbHMvaGVscGVycy91dWlkLWhlbHBlcnMnXG5pbXBvcnQge1N0YXRlTWFjaGluZX0gZnJvbSAnLi4vdXRpbHMvc2VydmljZXMvc3RhdGUtbWFjaGluZSdcblxuZXhwb3J0IGNvbnN0IFN0YXR1c2VzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUGVuZGluZzogJ3BlbmRpbmcnLFxuICAgIEFwcHJvdmVkOiAnYXBwcm92ZWQnLFxuICAgIFJlamVjdGVkOiAncmVqZWN0ZWQnXG59KVxuXG5leHBvcnQgY29uc3QgVHJhbnNpdGlvbkFjdGlvbnMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBIb2xkOiAnaG9sZCcsXG4gICAgQXBwcm92ZTogJ2FwcHJvdmUnLFxuICAgIFJlamVjdDogJ3JlamVjdCdcbn0pXG5cbmNvbnN0IHN0YXRlVHJhbnNpdGlvbnMgPSBbe1xuICAgIG5hbWU6IFRyYW5zaXRpb25BY3Rpb25zLkhvbGQsXG4gICAgZnJvbTogW1N0YXR1c2VzLkFwcHJvdmVkLCBTdGF0dXNlcy5SZWplY3RlZF0sXG4gICAgdG86IFN0YXR1c2VzLlBlbmRpbmdcbn0sIHtcbiAgICBuYW1lOiBUcmFuc2l0aW9uQWN0aW9ucy5BcHByb3ZlLFxuICAgIGZyb206IFtTdGF0dXNlcy5QZW5kaW5nLCBTdGF0dXNlcy5SZWplY3RlZF0sXG4gICAgdG86IFN0YXR1c2VzLkFwcHJvdmVkXG59LCB7XG4gICAgbmFtZTogVHJhbnNpdGlvbkFjdGlvbnMuUmVqZWN0LFxuICAgIGZyb206IFtTdGF0dXNlcy5BcHByb3ZlZCwgU3RhdHVzZXMuUGVuZGluZ10sXG4gICAgdG86IFN0YXR1c2VzLlJlamVjdGVkXG59XVxuXG5jb25zdCBwcm9ncmFtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgX2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogZ2VuZXJhdGVVdWlkLFxuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogT2JqZWN0LnZhbHVlcyhTdGF0dXNlcyksXG4gICAgICAgIGRlZmF1bHQ6IFN0YXR1c2VzLlBlbmRpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgbG9nczogW3tcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKFN0YXR1c2VzKSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9LFxuICAgIH1dXG59LCB7dGltZXN0YW1wczoge2NyZWF0ZWRBdDogdHJ1ZX19KVxuXG5wcm9ncmFtU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgbGV0IHByb2dyYW0gPSB0aGlzXG4gICAgY29uc3QgbG9ncyA9IHByb2dyYW0ubG9ncyB8fCBbXVxuXG4gICAgaWYgKGxvZ3MubGVuZ3RoID09PSAwIHx8IHByb2dyYW0uc3RhdHVzICE9PSBsb2dzW2xvZ3MubGVuZ3RoIC0xXS5zdGF0dXMpIHtcbiAgICAgICAgbG9ncy5wdXNoKHtcbiAgICAgICAgICAgIHN0YXR1czogcHJvZ3JhbS5zdGF0dXMsXG4gICAgICAgICAgICBkYXRlOiBEYXRlLm5ld1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByb2dyYW0ubG9ncyA9IGxvZ3NcblxuICAgIG5leHQoKVxufSlcblxucHJvZ3JhbVNjaGVtYS5tZXRob2RzLmFwcHJvdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc3RhdGVNYWNoaW5lID0gU3RhdGVNYWNoaW5lKHtcbiAgICAgICAgaW5pdDogdGhpcy5zdGF0dXMsXG4gICAgICAgIHRyYW5zaXRpb25zOiBzdGF0ZVRyYW5zaXRpb25zXG4gICAgfSlcblxuICAgIGlmIChzdGF0ZU1hY2hpbmUuYXBwcm92ZSgpKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdGVNYWNoaW5lLnN0YXRlKClcbiAgICAgICAgdGhpcy5zYXZlKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2Vcbn1cblxucHJvZ3JhbVNjaGVtYS5tZXRob2RzLnJlamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzdGF0ZU1hY2hpbmUgPSBTdGF0ZU1hY2hpbmUoe1xuICAgICAgICBpbml0OiB0aGlzLnN0YXR1cyxcbiAgICAgICAgdHJhbnNpdGlvbnM6IHN0YXRlVHJhbnNpdGlvbnNcbiAgICB9KVxuXG4gICAgaWYgKHN0YXRlTWFjaGluZS5yZWplY3QoKSkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXRlTWFjaGluZS5zdGF0ZSgpXG4gICAgICAgIHRoaXMuc2F2ZSgpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbnByb2dyYW1TY2hlbWEubWV0aG9kcy5ob2xkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHN0YXRlTWFjaGluZSA9IFN0YXRlTWFjaGluZSh7XG4gICAgICAgIGluaXQ6IHRoaXMuc3RhdHVzLFxuICAgICAgICB0cmFuc2l0aW9uczogc3RhdGVUcmFuc2l0aW9uc1xuICAgIH0pXG5cbiAgICBpZiAoc3RhdGVNYWNoaW5lLmhvbGQoKSkge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXRlTWFjaGluZS5zdGF0ZSgpXG4gICAgICAgIHRoaXMuc2F2ZSgpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbnByb2dyYW1TY2hlbWEubWV0aG9kcy50cmFuc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gU3RhdGVNYWNoaW5lKHtcbiAgICAgICAgaW5pdDogdGhpcy5zdGF0dXMsXG4gICAgICAgIHRyYW5zaXRpb25zOiBzdGF0ZVRyYW5zaXRpb25zXG4gICAgfSkudHJhbnNpdGlvbnMoKVxufVxuXG5leHBvcnQgY29uc3QgUHJvZ3JhbSA9IG1vbmdvb3NlLm1vZGVsKCdQcm9ncmFtJywgcHJvZ3JhbVNjaGVtYSlcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "program.js"
      ],
      "names": [
        "Statuses",
        "Object",
        "freeze",
        "Pending",
        "Approved",
        "Rejected",
        "TransitionActions",
        "Hold",
        "Approve",
        "Reject",
        "stateTransitions",
        "name",
        "from",
        "to",
        "programSchema",
        "mongoose",
        "Schema",
        "_id",
        "type",
        "String",
        "generateUuid",
        "title",
        "status",
        "values",
        "required",
        "logs",
        "date",
        "Date",
        "timestamps",
        "createdAt",
        "pre",
        "next",
        "program",
        "length",
        "push",
        "methods",
        "approve",
        "stateMachine",
        "init",
        "transitions",
        "state",
        "save",
        "reject",
        "hold",
        "Program",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nimport {generateUuid} from '../utils/helpers/uuid-helpers'\nimport {StateMachine} from '../utils/services/state-machine'\n\nexport const Statuses = Object.freeze({\n    Pending: 'pending',\n    Approved: 'approved',\n    Rejected: 'rejected'\n})\n\nexport const TransitionActions = Object.freeze({\n    Hold: 'hold',\n    Approve: 'approve',\n    Reject: 'reject'\n})\n\nconst stateTransitions = [{\n    name: TransitionActions.Hold,\n    from: [Statuses.Approved, Statuses.Rejected],\n    to: Statuses.Pending\n}, {\n    name: TransitionActions.Approve,\n    from: [Statuses.Pending, Statuses.Rejected],\n    to: Statuses.Approved\n}, {\n    name: TransitionActions.Reject,\n    from: [Statuses.Approved, Statuses.Pending],\n    to: Statuses.Rejected\n}]\n\nconst programSchema = new mongoose.Schema({\n    _id: {\n        type: String,\n        default: generateUuid,\n    },\n    title: {\n        type: String,\n    },\n    status: {\n        type: String,\n        enum: Object.values(Statuses),\n        default: Statuses.Pending,\n        required: true,\n    },\n    logs: [{\n        status: {\n            type: String,\n            enum: Object.values(Statuses),\n        },\n        date: {\n            type: Date\n        },\n    }]\n}, {timestamps: {createdAt: true}})\n\nprogramSchema.pre('save', function (next) {\n    let program = this\n    const logs = program.logs || []\n\n    if (logs.length === 0 || program.status !== logs[logs.length -1].status) {\n        logs.push({\n            status: program.status,\n            date: Date.new\n        })\n    }\n\n    program.logs = logs\n\n    next()\n})\n\nprogramSchema.methods.approve = function () {\n    const stateMachine = StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    })\n\n    if (stateMachine.approve()) {\n        this.status = stateMachine.state()\n        this.save()\n        return true\n    }\n\n    return false\n}\n\nprogramSchema.methods.reject = function () {\n    const stateMachine = StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    })\n\n    if (stateMachine.reject()) {\n        this.status = stateMachine.state()\n        this.save()\n        return true\n    }\n\n    return false\n}\n\nprogramSchema.methods.hold = function () {\n    const stateMachine = StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    })\n\n    if (stateMachine.hold()) {\n        this.status = stateMachine.state()\n        this.save()\n        return true\n    }\n\n    return false\n}\n\nprogramSchema.methods.transitions = function () {\n    return StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    }).transitions()\n}\n\nexport const Program = mongoose.model('Program', programSchema)\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572784903715
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
        "sourceFileName": "uuid-helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateUuid = void 0;\n\nvar _nodeUuid = _interopRequireDefault(require(\"node-uuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar generateUuid = function generateUuid() {\n  return _nodeUuid[\"default\"].v4();\n};\n\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV1aWQtaGVscGVycy5qcyJdLCJuYW1lcyI6WyJnZW5lcmF0ZVV1aWQiLCJ1dWlkIiwidjQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVPLElBQU1BLFlBQVksR0FBRyxTQUFmQSxZQUFlO0FBQUEsU0FBTUMscUJBQUtDLEVBQUwsRUFBTjtBQUFBLENBQXJCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy95aXNoZW5nL1Byb2plY3RzL2FwcHJvdmUtd29ya2Zsb3cvc2VydmVyL3NyYy91dGlscy9oZWxwZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWQgZnJvbSAnbm9kZS11dWlkJ1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVVdWlkID0gKCkgPT4gdXVpZC52NCgpIl19",
    "map": {
      "version": 3,
      "sources": [
        "uuid-helpers.js"
      ],
      "names": [
        "generateUuid",
        "uuid",
        "v4"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,IAAMA,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAMC,qBAAKC,EAAL,EAAN;AAAA,CAArB",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "sourcesContent": [
        "import uuid from 'node-uuid'\n\nexport const generateUuid = () => uuid.v4()"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765341515
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
        "sourceFileName": "state-machine.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateMachine = void 0;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar validateClashingMethods = function validateClashingMethods(transitions) {\n  var clashingMethodsName = transitions.filter(function (_ref) {\n    var name = _ref.name;\n    return ['can', 'is', 'state', 'transitions'].includes(name);\n  }).map(function (_ref2) {\n    var name = _ref2.name;\n    return name;\n  });\n\n  if (clashingMethodsName.length > 0) {\n    throw Error(\"\".concat(clashingMethodsName.length, \" transition methods (\").concat(clashingMethodsName.join(', '), \") clashed with default method \"));\n  }\n};\n\nvar validateInitialDataFormat = function validateInitialDataFormat(_ref3) {\n  var init = _ref3.init,\n      _ref3$transitions = _ref3.transitions,\n      transitions = _ref3$transitions === void 0 ? [] : _ref3$transitions;\n\n  if (!init) {\n    throw Error('Initial state is required');\n  }\n\n  if (transitions.length === 0) {\n    throw Error('At least one transition is needed');\n  }\n};\n\nvar StateMachine = function StateMachine(_ref4) {\n  var init = _ref4.init,\n      _ref4$transitions = _ref4.transitions,\n      transitions = _ref4$transitions === void 0 ? [] : _ref4$transitions;\n  validateInitialDataFormat({\n    init: init,\n    transitions: transitions\n  });\n  validateClashingMethods(transitions);\n  var currentState = init;\n  var transitionMethods = {};\n\n  if (transitions.length > 0) {\n    transitions.forEach(function (_ref5) {\n      var name = _ref5.name,\n          from = _ref5.from,\n          to = _ref5.to;\n\n      transitionMethods[name] = function () {\n        if (from.includes(currentState)) {\n          currentState = to;\n          return true;\n        }\n\n        return false;\n      };\n    });\n  }\n\n  var getPossibleTransition = function getPossibleTransition() {\n    return transitions.filter(function (_ref6) {\n      var from = _ref6.from;\n      return from.includes(currentState);\n    }).map(function (_ref7) {\n      var name = _ref7.name;\n      return name;\n    });\n  };\n\n  var isCurrentState = function isCurrentState(state) {\n    return state === currentState;\n  };\n\n  var canTransit = function canTransit(transition) {\n    var targetTransition = transitions.find(function (_ref8) {\n      var name = _ref8.name;\n      return name === transition;\n    });\n\n    if (targetTransition) {\n      return targetTransition.from.includes(currentState);\n    }\n\n    return false;\n  };\n\n  return _objectSpread({\n    state: function state() {\n      return currentState;\n    }\n  }, transitionMethods, {\n    transitions: getPossibleTransition,\n    is: isCurrentState,\n    can: canTransit\n  });\n};\n\nexports.StateMachine = StateMachine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRlLW1hY2hpbmUuanMiXSwibmFtZXMiOlsidmFsaWRhdGVDbGFzaGluZ01ldGhvZHMiLCJ0cmFuc2l0aW9ucyIsImNsYXNoaW5nTWV0aG9kc05hbWUiLCJmaWx0ZXIiLCJuYW1lIiwiaW5jbHVkZXMiLCJtYXAiLCJsZW5ndGgiLCJFcnJvciIsImpvaW4iLCJ2YWxpZGF0ZUluaXRpYWxEYXRhRm9ybWF0IiwiaW5pdCIsIlN0YXRlTWFjaGluZSIsImN1cnJlbnRTdGF0ZSIsInRyYW5zaXRpb25NZXRob2RzIiwiZm9yRWFjaCIsImZyb20iLCJ0byIsImdldFBvc3NpYmxlVHJhbnNpdGlvbiIsImlzQ3VycmVudFN0YXRlIiwic3RhdGUiLCJjYW5UcmFuc2l0IiwidHJhbnNpdGlvbiIsInRhcmdldFRyYW5zaXRpb24iLCJmaW5kIiwiaXMiLCJjYW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLENBQUNDLFdBQUQsRUFBaUI7QUFDN0MsTUFBTUMsbUJBQW1CLEdBQUdELFdBQVcsQ0FBQ0UsTUFBWixDQUFtQjtBQUFBLFFBQUVDLElBQUYsUUFBRUEsSUFBRjtBQUFBLFdBQVksQ0FBQyxLQUFELEVBQVEsSUFBUixFQUFjLE9BQWQsRUFBdUIsYUFBdkIsRUFBc0NDLFFBQXRDLENBQStDRCxJQUEvQyxDQUFaO0FBQUEsR0FBbkIsRUFBcUZFLEdBQXJGLENBQXlGO0FBQUEsUUFBRUYsSUFBRixTQUFFQSxJQUFGO0FBQUEsV0FBWUEsSUFBWjtBQUFBLEdBQXpGLENBQTVCOztBQUVBLE1BQUlGLG1CQUFtQixDQUFDSyxNQUFwQixHQUE2QixDQUFqQyxFQUFvQztBQUNoQyxVQUFNQyxLQUFLLFdBQUlOLG1CQUFtQixDQUFDSyxNQUF4QixrQ0FBc0RMLG1CQUFtQixDQUFDTyxJQUFwQixDQUF5QixJQUF6QixDQUF0RCxvQ0FBWDtBQUNIO0FBQ0osQ0FORDs7QUFRQSxJQUFNQyx5QkFBeUIsR0FBRyxTQUE1QkEseUJBQTRCLFFBQThCO0FBQUEsTUFBNUJDLElBQTRCLFNBQTVCQSxJQUE0QjtBQUFBLGdDQUF0QlYsV0FBc0I7QUFBQSxNQUF0QkEsV0FBc0Isa0NBQVIsRUFBUTs7QUFDNUQsTUFBSSxDQUFDVSxJQUFMLEVBQVc7QUFDUCxVQUFNSCxLQUFLLENBQUMsMkJBQUQsQ0FBWDtBQUNIOztBQUVELE1BQUlQLFdBQVcsQ0FBQ00sTUFBWixLQUF1QixDQUEzQixFQUE4QjtBQUMxQixVQUFNQyxLQUFLLENBQUMsbUNBQUQsQ0FBWDtBQUNIO0FBQ0osQ0FSRDs7QUFXTyxJQUFNSSxZQUFZLEdBQUcsU0FBZkEsWUFBZSxRQUE4QjtBQUFBLE1BQTVCRCxJQUE0QixTQUE1QkEsSUFBNEI7QUFBQSxnQ0FBdEJWLFdBQXNCO0FBQUEsTUFBdEJBLFdBQXNCLGtDQUFSLEVBQVE7QUFDdERTLEVBQUFBLHlCQUF5QixDQUFDO0FBQUNDLElBQUFBLElBQUksRUFBSkEsSUFBRDtBQUFPVixJQUFBQSxXQUFXLEVBQVhBO0FBQVAsR0FBRCxDQUF6QjtBQUNBRCxFQUFBQSx1QkFBdUIsQ0FBQ0MsV0FBRCxDQUF2QjtBQUVBLE1BQUlZLFlBQVksR0FBR0YsSUFBbkI7QUFDQSxNQUFNRyxpQkFBaUIsR0FBRyxFQUExQjs7QUFFQSxNQUFJYixXQUFXLENBQUNNLE1BQVosR0FBcUIsQ0FBekIsRUFBNEI7QUFDeEJOLElBQUFBLFdBQVcsQ0FBQ2MsT0FBWixDQUFvQixpQkFBc0I7QUFBQSxVQUFwQlgsSUFBb0IsU0FBcEJBLElBQW9CO0FBQUEsVUFBZFksSUFBYyxTQUFkQSxJQUFjO0FBQUEsVUFBUkMsRUFBUSxTQUFSQSxFQUFROztBQUN0Q0gsTUFBQUEsaUJBQWlCLENBQUNWLElBQUQsQ0FBakIsR0FBMEIsWUFBTTtBQUM1QixZQUFJWSxJQUFJLENBQUNYLFFBQUwsQ0FBY1EsWUFBZCxDQUFKLEVBQWlDO0FBQzdCQSxVQUFBQSxZQUFZLEdBQUdJLEVBQWY7QUFDQSxpQkFBTyxJQUFQO0FBQ0g7O0FBQ0QsZUFBTyxLQUFQO0FBQ0gsT0FORDtBQU9ILEtBUkQ7QUFTSDs7QUFFRCxNQUFNQyxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXdCO0FBQUEsV0FBTWpCLFdBQVcsQ0FDMUNFLE1BRCtCLENBQ3hCO0FBQUEsVUFBRWEsSUFBRixTQUFFQSxJQUFGO0FBQUEsYUFBWUEsSUFBSSxDQUFDWCxRQUFMLENBQWNRLFlBQWQsQ0FBWjtBQUFBLEtBRHdCLEVBRS9CUCxHQUYrQixDQUUzQjtBQUFBLFVBQUVGLElBQUYsU0FBRUEsSUFBRjtBQUFBLGFBQVlBLElBQVo7QUFBQSxLQUYyQixDQUFOO0FBQUEsR0FBOUI7O0FBS0EsTUFBTWUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDQyxLQUFEO0FBQUEsV0FBV0EsS0FBSyxLQUFLUCxZQUFyQjtBQUFBLEdBQXZCOztBQUVBLE1BQU1RLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQUNDLFVBQUQsRUFBZ0I7QUFDL0IsUUFBTUMsZ0JBQWdCLEdBQUd0QixXQUFXLENBQUN1QixJQUFaLENBQWlCO0FBQUEsVUFBRXBCLElBQUYsU0FBRUEsSUFBRjtBQUFBLGFBQVlBLElBQUksS0FBS2tCLFVBQXJCO0FBQUEsS0FBakIsQ0FBekI7O0FBQ0EsUUFBSUMsZ0JBQUosRUFBc0I7QUFDbEIsYUFBT0EsZ0JBQWdCLENBQUNQLElBQWpCLENBQXNCWCxRQUF0QixDQUErQlEsWUFBL0IsQ0FBUDtBQUNIOztBQUNELFdBQU8sS0FBUDtBQUNILEdBTkQ7O0FBUUE7QUFDSU8sSUFBQUEsS0FBSyxFQUFFO0FBQUEsYUFBTVAsWUFBTjtBQUFBO0FBRFgsS0FFT0MsaUJBRlA7QUFHSWIsSUFBQUEsV0FBVyxFQUFFaUIscUJBSGpCO0FBSUlPLElBQUFBLEVBQUUsRUFBRU4sY0FKUjtBQUtJTyxJQUFBQSxHQUFHLEVBQUVMO0FBTFQ7QUFPSCxDQXpDTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvdXRpbHMvc2VydmljZXMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0ZUNsYXNoaW5nTWV0aG9kcyA9ICh0cmFuc2l0aW9ucykgPT4ge1xuICAgIGNvbnN0IGNsYXNoaW5nTWV0aG9kc05hbWUgPSB0cmFuc2l0aW9ucy5maWx0ZXIoKHtuYW1lfSkgPT4gWydjYW4nLCAnaXMnLCAnc3RhdGUnLCAndHJhbnNpdGlvbnMnXS5pbmNsdWRlcyhuYW1lKSkubWFwKCh7bmFtZX0pID0+IG5hbWUpXG5cbiAgICBpZiAoY2xhc2hpbmdNZXRob2RzTmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke2NsYXNoaW5nTWV0aG9kc05hbWUubGVuZ3RofSB0cmFuc2l0aW9uIG1ldGhvZHMgKCR7Y2xhc2hpbmdNZXRob2RzTmFtZS5qb2luKCcsICcpfSkgY2xhc2hlZCB3aXRoIGRlZmF1bHQgbWV0aG9kIGApXG4gICAgfVxufVxuXG5jb25zdCB2YWxpZGF0ZUluaXRpYWxEYXRhRm9ybWF0ID0gKHtpbml0LCB0cmFuc2l0aW9ucyA9IFtdfSkgPT4ge1xuICAgIGlmICghaW5pdCkge1xuICAgICAgICB0aHJvdyBFcnJvcignSW5pdGlhbCBzdGF0ZSBpcyByZXF1aXJlZCcpXG4gICAgfVxuXG4gICAgaWYgKHRyYW5zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignQXQgbGVhc3Qgb25lIHRyYW5zaXRpb24gaXMgbmVlZGVkJylcbiAgICB9XG59XG5cblxuZXhwb3J0IGNvbnN0IFN0YXRlTWFjaGluZSA9ICh7aW5pdCwgdHJhbnNpdGlvbnMgPSBbXX0pID0+IHtcbiAgICB2YWxpZGF0ZUluaXRpYWxEYXRhRm9ybWF0KHtpbml0LCB0cmFuc2l0aW9uc30pXG4gICAgdmFsaWRhdGVDbGFzaGluZ01ldGhvZHModHJhbnNpdGlvbnMpXG5cbiAgICBsZXQgY3VycmVudFN0YXRlID0gaW5pdFxuICAgIGNvbnN0IHRyYW5zaXRpb25NZXRob2RzID0ge31cblxuICAgIGlmICh0cmFuc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRyYW5zaXRpb25zLmZvckVhY2goKHtuYW1lLCBmcm9tLCB0b30pID0+IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25NZXRob2RzW25hbWVdID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tLmluY2x1ZGVzKGN1cnJlbnRTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gdG9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UG9zc2libGVUcmFuc2l0aW9uID0gKCkgPT4gdHJhbnNpdGlvbnNcbiAgICAgICAgLmZpbHRlcigoe2Zyb219KSA9PiBmcm9tLmluY2x1ZGVzKGN1cnJlbnRTdGF0ZSkpXG4gICAgICAgIC5tYXAoKHtuYW1lfSkgPT4gbmFtZSlcblxuXG4gICAgY29uc3QgaXNDdXJyZW50U3RhdGUgPSAoc3RhdGUpID0+IHN0YXRlID09PSBjdXJyZW50U3RhdGVcblxuICAgIGNvbnN0IGNhblRyYW5zaXQgPSAodHJhbnNpdGlvbikgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRUcmFuc2l0aW9uID0gdHJhbnNpdGlvbnMuZmluZCgoe25hbWV9KSA9PiBuYW1lID09PSB0cmFuc2l0aW9uKVxuICAgICAgICBpZiAodGFyZ2V0VHJhbnNpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFRyYW5zaXRpb24uZnJvbS5pbmNsdWRlcyhjdXJyZW50U3RhdGUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdGU6ICgpID0+IGN1cnJlbnRTdGF0ZSxcbiAgICAgICAgLi4udHJhbnNpdGlvbk1ldGhvZHMsXG4gICAgICAgIHRyYW5zaXRpb25zOiBnZXRQb3NzaWJsZVRyYW5zaXRpb24sXG4gICAgICAgIGlzOiBpc0N1cnJlbnRTdGF0ZSxcbiAgICAgICAgY2FuOiBjYW5UcmFuc2l0LFxuICAgIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "state-machine.js"
      ],
      "names": [
        "validateClashingMethods",
        "transitions",
        "clashingMethodsName",
        "filter",
        "name",
        "includes",
        "map",
        "length",
        "Error",
        "join",
        "validateInitialDataFormat",
        "init",
        "StateMachine",
        "currentState",
        "transitionMethods",
        "forEach",
        "from",
        "to",
        "getPossibleTransition",
        "isCurrentState",
        "state",
        "canTransit",
        "transition",
        "targetTransition",
        "find",
        "is",
        "can"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "sourcesContent": [
        "const validateClashingMethods = (transitions) => {\n    const clashingMethodsName = transitions.filter(({name}) => ['can', 'is', 'state', 'transitions'].includes(name)).map(({name}) => name)\n\n    if (clashingMethodsName.length > 0) {\n        throw Error(`${clashingMethodsName.length} transition methods (${clashingMethodsName.join(', ')}) clashed with default method `)\n    }\n}\n\nconst validateInitialDataFormat = ({init, transitions = []}) => {\n    if (!init) {\n        throw Error('Initial state is required')\n    }\n\n    if (transitions.length === 0) {\n        throw Error('At least one transition is needed')\n    }\n}\n\n\nexport const StateMachine = ({init, transitions = []}) => {\n    validateInitialDataFormat({init, transitions})\n    validateClashingMethods(transitions)\n\n    let currentState = init\n    const transitionMethods = {}\n\n    if (transitions.length > 0) {\n        transitions.forEach(({name, from, to}) => {\n            transitionMethods[name] = () => {\n                if (from.includes(currentState)) {\n                    currentState = to\n                    return true\n                }\n                return false\n            }\n        })\n    }\n\n    const getPossibleTransition = () => transitions\n        .filter(({from}) => from.includes(currentState))\n        .map(({name}) => name)\n\n\n    const isCurrentState = (state) => state === currentState\n\n    const canTransit = (transition) => {\n        const targetTransition = transitions.find(({name}) => name === transition)\n        if (targetTransition) {\n            return targetTransition.from.includes(currentState)\n        }\n        return false\n    }\n\n    return {\n        state: () => currentState,\n        ...transitionMethods,\n        transitions: getPossibleTransition,\n        is: isCurrentState,\n        can: canTransit,\n    }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572774545252
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectDb = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow';\n\nvar connectDb = function connectDb() {\n  return _mongoose[\"default\"].connect(DATABASE_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  });\n};\n\nexports.connectDb = connectDb;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRBVEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJjb25uZWN0RGIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFlBQVosSUFBNEIsNENBQWpEOztBQUVPLElBQU1HLFNBQVMsR0FBRyxTQUFaQSxTQUFZO0FBQUEsU0FBTUMscUJBQVNDLE9BQVQsQ0FBaUJMLFlBQWpCLEVBQStCO0FBQzFETSxJQUFBQSxlQUFlLEVBQUUsSUFEeUM7QUFFMURDLElBQUFBLGtCQUFrQixFQUFFO0FBRnNDLEdBQS9CLENBQU47QUFBQSxDQUFsQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuXG5jb25zdCBEQVRBQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgfHwgJ21vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcvYXBwcm92ZS13b3JrZmxvdydcblxuZXhwb3J0IGNvbnN0IGNvbm5lY3REYiA9ICgpID0+IG1vbmdvb3NlLmNvbm5lY3QoREFUQUJBU0VfVVJMLCB7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbn0pXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "DATABASE_URL",
        "process",
        "env",
        "connectDb",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,IAAMA,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYF,YAAZ,IAA4B,4CAAjD;;AAEO,IAAMG,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAMC,qBAASC,OAAT,CAAiBL,YAAjB,EAA+B;AAC1DM,IAAAA,eAAe,EAAE,IADyC;AAE1DC,IAAAA,kBAAkB,EAAE;AAFsC,GAA/B,CAAN;AAAA,CAAlB",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nconst DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow'\n\nexport const connectDb = () => mongoose.connect(DATABASE_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765060912
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nrequire(\"dotenv/config\");\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _models = require(\"./models\");\n\nvar _program = require(\"./controllers/program\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\nconst PORT = process.env.PORT || 3000;\napp.use(_bodyParser.default.json());\napp.get('/', _program.getAllPrograms);\napp.post('/program/new', _program.createProgram);\napp.put('/program/:id/transition', _program.updateProgramStatus);\napp.delete('/program/:id', _program.deleteProgram);\n(0, _models.connectDb)().then(async () => {\n  app.listen(PORT, () => console.log(`Hello. You are listening on port ${PORT} ðŸš€`));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJnZXQiLCJnZXRBbGxQcm9ncmFtcyIsInBvc3QiLCJjcmVhdGVQcm9ncmFtIiwicHV0IiwidXBkYXRlUHJvZ3JhbVN0YXR1cyIsImRlbGV0ZSIsImRlbGV0ZVByb2dyYW0iLCJ0aGVuIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUNBLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFBakM7QUFFQUQsR0FBRyxDQUFDSSxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFFQU4sR0FBRyxDQUFDTyxHQUFKLENBQVEsR0FBUixFQUFhQyx1QkFBYjtBQUNBUixHQUFHLENBQUNTLElBQUosQ0FBUyxjQUFULEVBQXlCQyxzQkFBekI7QUFDQVYsR0FBRyxDQUFDVyxHQUFKLENBQVEseUJBQVIsRUFBbUNDLDRCQUFuQztBQUNBWixHQUFHLENBQUNhLE1BQUosQ0FBVyxjQUFYLEVBQTJCQyxzQkFBM0I7QUFFQSx5QkFBWUMsSUFBWixDQUFpQixZQUFZO0FBQ3pCZixFQUFBQSxHQUFHLENBQUNnQixNQUFKLENBQVdmLElBQVgsRUFBaUIsTUFBTWdCLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLG9DQUFtQ2pCLElBQUssS0FBckQsQ0FBdkI7QUFDSCxDQUZEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy95aXNoZW5nL1Byb2plY3RzL2FwcHJvdmUtd29ya2Zsb3cvc2VydmVyL3NyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0IHtjb25uZWN0RGJ9IGZyb20gJy4vbW9kZWxzJ1xuaW1wb3J0IHtnZXRBbGxQcm9ncmFtcywgY3JlYXRlUHJvZ3JhbSwgdXBkYXRlUHJvZ3JhbVN0YXR1cywgZGVsZXRlUHJvZ3JhbX0gZnJvbSAnLi9jb250cm9sbGVycy9wcm9ncmFtJ1xuXG5jb25zdCBhcHAgPSBleHByZXNzKClcbmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDBcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcblxuYXBwLmdldCgnLycsIGdldEFsbFByb2dyYW1zKVxuYXBwLnBvc3QoJy9wcm9ncmFtL25ldycsIGNyZWF0ZVByb2dyYW0pXG5hcHAucHV0KCcvcHJvZ3JhbS86aWQvdHJhbnNpdGlvbicsIHVwZGF0ZVByb2dyYW1TdGF0dXMpXG5hcHAuZGVsZXRlKCcvcHJvZ3JhbS86aWQnLCBkZWxldGVQcm9ncmFtKVxuXG5jb25uZWN0RGIoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICBhcHAubGlzdGVuKFBPUlQsICgpID0+IGNvbnNvbGUubG9nKGBIZWxsby4gWW91IGFyZSBsaXN0ZW5pbmcgb24gcG9ydCAke1BPUlR9IPCfmoBgKSlcbn0pXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "PORT",
        "process",
        "env",
        "use",
        "bodyParser",
        "json",
        "get",
        "getAllPrograms",
        "post",
        "createProgram",
        "put",
        "updateProgramStatus",
        "delete",
        "deleteProgram",
        "then",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AAEA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AACA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AAEAD,GAAG,CAACI,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AAEAN,GAAG,CAACO,GAAJ,CAAQ,GAAR,EAAaC,uBAAb;AACAR,GAAG,CAACS,IAAJ,CAAS,cAAT,EAAyBC,sBAAzB;AACAV,GAAG,CAACW,GAAJ,CAAQ,yBAAR,EAAmCC,4BAAnC;AACAZ,GAAG,CAACa,MAAJ,CAAW,cAAX,EAA2BC,sBAA3B;AAEA,yBAAYC,IAAZ,CAAiB,YAAY;AACzBf,EAAAA,GAAG,CAACgB,MAAJ,CAAWf,IAAX,EAAiB,MAAMgB,OAAO,CAACC,GAAR,CAAa,oCAAmCjB,IAAK,KAArD,CAAvB;AACH,CAFD",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src",
      "sourcesContent": [
        "import 'dotenv/config'\nimport bodyParser from 'body-parser'\nimport express from 'express'\n\nimport {connectDb} from './models'\nimport {getAllPrograms, createProgram, updateProgramStatus, deleteProgram} from './controllers/program'\n\nconst app = express()\nconst PORT = process.env.PORT || 3000\n\napp.use(bodyParser.json())\n\napp.get('/', getAllPrograms)\napp.post('/program/new', createProgram)\napp.put('/program/:id/transition', updateProgramStatus)\napp.delete('/program/:id', deleteProgram)\n\nconnectDb().then(async () => {\n    app.listen(PORT, () => console.log(`Hello. You are listening on port ${PORT} ðŸš€`))\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572867192312
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
        "sourceFileName": "approval-status.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProgram = exports.holdProgram = exports.rejectProgram = exports.approveProgram = exports.createProgram = exports.getAllPrograms = void 0;\n\nvar _program = require(\"../models/program\");\n\nconst getAllPrograms = async (req, res) => {\n  try {\n    const programs = await _program.Program.find({});\n    res.status(200).json({\n      data: programs.map(program => {\n        return {\n          title: program.title,\n          _id: program._id,\n          transitions: program.transitions()\n        };\n      })\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.getAllPrograms = getAllPrograms;\n\nconst createProgram = async (req, res) => {\n  try {\n    const program = new _program.Program();\n    program.title = req.body.title;\n    program.status = req.body.status;\n    program.save();\n    res.status(200).json({\n      data: {\n        _id: program.id\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.createProgram = createProgram;\n\nconst approveProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.approve()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.approveProgram = approveProgram;\n\nconst rejectProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.reject()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.rejectProgram = rejectProgram;\n\nconst holdProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.hold()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.holdProgram = holdProgram;\n\nconst deleteProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    program.remove();\n    res.status(200).json({\n      data: {\n        success: true\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.deleteProgram = deleteProgram;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcHJvdmFsLXN0YXR1cy5qcyJdLCJuYW1lcyI6WyJnZXRBbGxQcm9ncmFtcyIsInJlcSIsInJlcyIsInByb2dyYW1zIiwiUHJvZ3JhbSIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1hcCIsInByb2dyYW0iLCJ0aXRsZSIsIl9pZCIsInRyYW5zaXRpb25zIiwiZXJyIiwiY3JlYXRlUHJvZ3JhbSIsImJvZHkiLCJzYXZlIiwiaWQiLCJhcHByb3ZlUHJvZ3JhbSIsImZpbmRPbmUiLCJwYXJhbXMiLCJzdWNjZXNzIiwiYXBwcm92ZSIsInJlamVjdFByb2dyYW0iLCJyZWplY3QiLCJob2xkUHJvZ3JhbSIsImhvbGQiLCJkZWxldGVQcm9ncmFtIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsY0FBYyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM5QyxNQUFJO0FBQ0EsVUFBTUMsUUFBUSxHQUFHLE1BQU1DLGlCQUFRQyxJQUFSLENBQWEsRUFBYixDQUF2QjtBQUVBSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFTCxRQUFRLENBQUNNLEdBQVQsQ0FBY0MsT0FBRCxJQUFhO0FBQzVCLGVBQU87QUFDSEMsVUFBQUEsS0FBSyxFQUFFRCxPQUFPLENBQUNDLEtBRFo7QUFFSEMsVUFBQUEsR0FBRyxFQUFFRixPQUFPLENBQUNFLEdBRlY7QUFHSEMsVUFBQUEsV0FBVyxFQUFFSCxPQUFPLENBQUNHLFdBQVI7QUFIVixTQUFQO0FBS0gsT0FOSztBQURXLEtBQXJCO0FBU0gsR0FaRCxDQVlFLE9BQU9DLEdBQVAsRUFBWTtBQUNWWixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQk8sR0FBckI7QUFDSDtBQUNKLENBaEJNOzs7O0FBa0JBLE1BQU1DLGFBQWEsR0FBRyxPQUFP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QSxVQUFNUSxPQUFPLEdBQUcsTUFBTU4saUJBQVFnQixPQUFSLENBQWdCO0FBQUNSLE1BQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDb0IsTUFBSixDQUFXSDtBQUFqQixLQUFoQixDQUF0QjtBQUNBUixJQUFBQSxPQUFPLENBQUNtQixNQUFSO0FBRUEzQixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZjLFFBQUFBLE9BQU8sRUFBRTtBQURQO0FBRFcsS0FBckI7QUFNSCxHQVhELENBV0UsT0FBT1IsR0FBUCxFQUFZO0FBQ1ZaLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCTyxHQUFyQjtBQUNIO0FBQ0osQ0FmTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Byb2dyYW19IGZyb20gJy4uL21vZGVscy9wcm9ncmFtJ1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsUHJvZ3JhbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9ncmFtcyA9IGF3YWl0IFByb2dyYW0uZmluZCh7fSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiBwcm9ncmFtcy5tYXAoKHByb2dyYW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZ3JhbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBwcm9ncmFtLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IHByb2dyYW0udHJhbnNpdGlvbnMoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKClcbiAgICAgICAgcHJvZ3JhbS50aXRsZSA9IHJlcS5ib2R5LnRpdGxlXG4gICAgICAgIHByb2dyYW0uc3RhdHVzID0gcmVxLmJvZHkuc3RhdHVzXG4gICAgICAgIHByb2dyYW0uc2F2ZSgpXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIF9pZDogcHJvZ3JhbS5pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBwcm92ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6cHJvZ3JhbS5hcHByb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVqZWN0UHJvZ3JhbSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGF3YWl0IFByb2dyYW0uZmluZE9uZSh7X2lkOiByZXEucGFyYW1zLmlkfSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzczpwcm9ncmFtLnJlamVjdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGhvbGRQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gYXdhaXQgUHJvZ3JhbS5maW5kT25lKHtfaWQ6IHJlcS5wYXJhbXMuaWR9KVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOnByb2dyYW0uaG9sZCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG4gICAgICAgIHByb2dyYW0ucmVtb3ZlKClcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "approval-status.js"
      ],
      "names": [
        "getAllPrograms",
        "req",
        "res",
        "programs",
        "Program",
        "find",
        "status",
        "json",
        "data",
        "map",
        "program",
        "title",
        "_id",
        "transitions",
        "err",
        "createProgram",
        "body",
        "save",
        "id",
        "approveProgram",
        "findOne",
        "params",
        "success",
        "approve",
        "rejectProgram",
        "reject",
        "holdProgram",
        "hold",
        "deleteProgram",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "sourcesContent": [
        "import {Program} from '../models/program'\n\nexport const getAllPrograms = async (req, res) => {\n    try {\n        const programs = await Program.find({})\n\n        res.status(200).json({\n            data: programs.map((program) => {\n                return {\n                    title: program.title,\n                    _id: program._id,\n                    transitions: program.transitions()\n                }\n            })\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const createProgram = async (req, res) => {\n    try {\n        const program = new Program()\n        program.title = req.body.title\n        program.status = req.body.status\n        program.save()\n\n        res.status(200).json({\n            data: {\n                _id: program.id\n            }\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const approveProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.approve()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const rejectProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.reject()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const holdProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.hold()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const deleteProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n        program.remove()\n\n        res.status(200).json({\n            data: {\n                success: true\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572784852185
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/program.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "program.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Program = exports.TransitionActions = exports.Statuses = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _uuidHelpers = require(\"../utils/helpers/uuid-helpers\");\n\nvar _stateMachine = require(\"../utils/services/state-machine\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Statuses = Object.freeze({\n  Pending: 'pending',\n  Approved: 'approved',\n  Rejected: 'rejected'\n});\nexports.Statuses = Statuses;\nconst TransitionActions = Object.freeze({\n  Hold: 'hold',\n  Approve: 'approve',\n  Reject: 'reject'\n});\nexports.TransitionActions = TransitionActions;\nconst stateTransitions = [{\n  name: TransitionActions.Hold,\n  from: [Statuses.Approved, Statuses.Rejected],\n  to: Statuses.Pending\n}, {\n  name: TransitionActions.Approve,\n  from: [Statuses.Pending, Statuses.Rejected],\n  to: Statuses.Approved\n}, {\n  name: TransitionActions.Reject,\n  from: [Statuses.Approved, Statuses.Pending],\n  to: Statuses.Rejected\n}];\nconst programSchema = new _mongoose.default.Schema({\n  _id: {\n    type: String,\n    default: _uuidHelpers.generateUuid\n  },\n  title: {\n    type: String\n  },\n  status: {\n    type: String,\n    enum: Object.values(Statuses),\n    default: Statuses.Pending\n  },\n  logs: [{\n    status: {\n      type: String,\n      enum: Object.values(Statuses)\n    },\n    date: {\n      type: Date\n    }\n  }]\n}, {\n  timestamps: {\n    createdAt: true\n  }\n});\nprogramSchema.post('init', function () {\n  this.stateMachine = (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  });\n});\nprogramSchema.pre('save', function (next) {\n  if (this.isNew && !this.logs) {\n    this.logs = [{\n      state: this.status,\n      date: new Date()\n    }];\n  }\n\n  next();\n});\n\nprogramSchema.methods.transition = function (action) {\n  if (!this.stateMachine) {\n    this.stateMachine = (0, _stateMachine.StateMachine)({\n      init: this.status,\n      transitions: stateTransitions\n    });\n  }\n\n  if (this.stateMachine.can(action) && this.stateMachine[action]) {\n    this.stateMachine[action]();\n    this.status = this.stateMachine.state();\n    this.logs.push({\n      status: this.status,\n      date: new Date()\n    });\n    return true;\n  }\n\n  return false;\n};\n\nconst Program = _mongoose.default.model('Program', programSchema);\n\nexports.Program = Program;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyYW0uanMiXSwibmFtZXMiOlsiU3RhdHVzZXMiLCJPYmplY3QiLCJmcmVlemUiLCJQZW5kaW5nIiwiQXBwcm92ZWQiLCJSZWplY3RlZCIsIlRyYW5zaXRpb25BY3Rpb25zIiwiSG9sZCIsIkFwcHJvdmUiLCJSZWplY3QiLCJzdGF0ZVRyYW5zaXRpb25zIiwibmFtZSIsImZyb20iLCJ0byIsInByb2dyYW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZ2VuZXJhdGVVdWlkIiwidGl0bGUiLCJzdGF0dXMiLCJlbnVtIiwidmFsdWVzIiwibG9ncyIsImRhdGUiLCJEYXRlIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInBvc3QiLCJzdGF0ZU1hY2hpbmUiLCJpbml0IiwidHJhbnNpdGlvbnMiLCJwcmUiLCJuZXh0IiwiaXNOZXciLCJzdGF0ZSIsIm1ldGhvZHMiLCJ0cmFuc2l0aW9uIiwiYWN0aW9uIiwiY2FuIiwicHVzaCIsIlByb2dyYW0iLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRU8sTUFBTUEsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNsQ0MsRUFBQUEsT0FBTyxFQUFFLFNBRHlCO0FBRWxDQyxFQUFBQSxRQUFRLEVBQUUsVUFGd0I7QUFHbENDLEVBQUFBLFFBQVEsRUFBRTtBQUh3QixDQUFkLENBQWpCOztBQU1BLE1BQU1DLGlCQUFpQixHQUFHTCxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUMzQ0ssRUFBQUEsSUFBSSxFQUFFLE1BRHFDO0FBRTNDQyxFQUFBQSxPQUFPLEVBQUUsU0FGa0M7QUFHM0NDLEVBQUFBLE1BQU0sRUFBRTtBQUhtQyxDQUFkLENBQTFCOztBQU1QLE1BQU1DLGdCQUFnQixHQUFHLENBQUM7QUFDdEJDLEVBQUFBLElBQUksRUFBRUwsaUJBQWlCLENBQUNDLElBREY7QUFFdEJLLEVBQUFBLElB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LENBQWtCUyxNQUFsQjtBQUVBLFNBQUtsQixNQUFMLEdBQWMsS0FBS1MsWUFBTCxDQUFrQk0sS0FBbEIsRUFBZDtBQUNBLFNBQUtaLElBQUwsQ0FBVWlCLElBQVYsQ0FBZTtBQUNYcEIsTUFBQUEsTUFBTSxFQUFFLEtBQUtBLE1BREY7QUFFWEksTUFBQUEsSUFBSSxFQUFFLElBQUlDLElBQUo7QUFGSyxLQUFmO0FBSUEsV0FBTyxJQUFQO0FBQ0g7O0FBRUQsU0FBTyxLQUFQO0FBQ0gsQ0FwQkQ7O0FBc0JPLE1BQU1nQixPQUFPLEdBQUc3QixrQkFBUzhCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCL0IsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuaW1wb3J0IHtnZW5lcmF0ZVV1aWR9IGZyb20gJy4uL3V0aWxzL2hlbHBlcnMvdXVpZC1oZWxwZXJzJ1xuaW1wb3J0IHtTdGF0ZU1hY2hpbmV9IGZyb20gJy4uL3V0aWxzL3NlcnZpY2VzL3N0YXRlLW1hY2hpbmUnXG5cbmV4cG9ydCBjb25zdCBTdGF0dXNlcyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFBlbmRpbmc6ICdwZW5kaW5nJyxcbiAgICBBcHByb3ZlZDogJ2FwcHJvdmVkJyxcbiAgICBSZWplY3RlZDogJ3JlamVjdGVkJ1xufSlcblxuZXhwb3J0IGNvbnN0IFRyYW5zaXRpb25BY3Rpb25zID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSG9sZDogJ2hvbGQnLFxuICAgIEFwcHJvdmU6ICdhcHByb3ZlJyxcbiAgICBSZWplY3Q6ICdyZWplY3QnXG59KVxuXG5jb25zdCBzdGF0ZVRyYW5zaXRpb25zID0gW3tcbiAgICBuYW1lOiBUcmFuc2l0aW9uQWN0aW9ucy5Ib2xkLFxuICAgIGZyb206IFtTdGF0dXNlcy5BcHByb3ZlZCwgU3RhdHVzZXMuUmVqZWN0ZWRdLFxuICAgIHRvOiBTdGF0dXNlcy5QZW5kaW5nXG59LCB7XG4gICAgbmFtZTogVHJhbnNpdGlvbkFjdGlvbnMuQXBwcm92ZSxcbiAgICBmcm9tOiBbU3RhdHVzZXMuUGVuZGluZywgU3RhdHVzZXMuUmVqZWN0ZWRdLFxuICAgIHRvOiBTdGF0dXNlcy5BcHByb3ZlZFxufSwge1xuICAgIG5hbWU6IFRyYW5zaXRpb25BY3Rpb25zLlJlamVjdCxcbiAgICBmcm9tOiBbU3RhdHVzZXMuQXBwcm92ZWQsIFN0YXR1c2VzLlBlbmRpbmddLFxuICAgIHRvOiBTdGF0dXNlcy5SZWplY3RlZFxufV1cblxuY29uc3QgcHJvZ3JhbVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIF9pZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6IGdlbmVyYXRlVXVpZCxcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IE9iamVjdC52YWx1ZXMoU3RhdHVzZXMpLFxuICAgICAgICBkZWZhdWx0OiBTdGF0dXNlcy5QZW5kaW5nLFxuICAgIH0sXG4gICAgbG9nczogW3tcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKFN0YXR1c2VzKSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9LFxuICAgIH1dXG59LCB7dGltZXN0YW1wczoge2NyZWF0ZWRBdDogdHJ1ZX19KVxuXG5cbnByb2dyYW1TY2hlbWEucG9zdCgnaW5pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXRlTWFjaGluZSA9IFN0YXRlTWFjaGluZSh7XG4gICAgICAgIGluaXQ6IHRoaXMuc3RhdHVzLFxuICAgICAgICB0cmFuc2l0aW9uczogc3RhdGVUcmFuc2l0aW9uc1xuICAgIH0pXG59KVxuXG5wcm9ncmFtU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgaWYgKHRoaXMuaXNOZXcgJiYgIXRoaXMubG9ncykge1xuICAgICAgICB0aGlzLmxvZ3MgPSBbe1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKVxuICAgICAgICB9XVxuICAgIH1cblxuICAgIG5leHQoKVxufSlcblxucHJvZ3JhbVNjaGVtYS5tZXRob2RzLnRyYW5zaXRpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlTWFjaGluZSkge1xuICAgICAgICB0aGlzLnN0YXRlTWFjaGluZSA9IFN0YXRlTWFjaGluZSh7XG4gICAgICAgICAgICBpbml0OiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBzdGF0ZVRyYW5zaXRpb25zXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGVNYWNoaW5lLmNhbihhY3Rpb24pICYmIHRoaXMuc3RhdGVNYWNoaW5lW2FjdGlvbl0pIHtcbiAgICAgICAgdGhpcy5zdGF0ZU1hY2hpbmVbYWN0aW9uXSgpXG5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXRlTWFjaGluZS5zdGF0ZSgpXG4gICAgICAgIHRoaXMubG9ncy5wdXNoKHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBQcm9ncmFtID0gbW9uZ29vc2UubW9kZWwoJ1Byb2dyYW0nLCBwcm9ncmFtU2NoZW1hKVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "program.js"
      ],
      "names": [
        "Statuses",
        "Object",
        "freeze",
        "Pending",
        "Approved",
        "Rejected",
        "TransitionActions",
        "Hold",
        "Approve",
        "Reject",
        "stateTransitions",
        "name",
        "from",
        "to",
        "programSchema",
        "mongoose",
        "Schema",
        "_id",
        "type",
        "String",
        "default",
        "generateUuid",
        "title",
        "status",
        "enum",
        "values",
        "logs",
        "date",
        "Date",
        "timestamps",
        "createdAt",
        "post",
        "stateMachine",
        "init",
        "transitions",
        "pre",
        "next",
        "isNew",
        "state",
        "methods",
        "transition",
        "action",
        "can",
        "push",
        "Program",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nimport {generateUuid} from '../utils/helpers/uuid-helpers'\nimport {StateMachine} from '../utils/services/state-machine'\n\nexport const Statuses = Object.freeze({\n    Pending: 'pending',\n    Approved: 'approved',\n    Rejected: 'rejected'\n})\n\nexport const TransitionActions = Object.freeze({\n    Hold: 'hold',\n    Approve: 'approve',\n    Reject: 'reject'\n})\n\nconst stateTransitions = [{\n    name: TransitionActions.Hold,\n    from: [Statuses.Approved, Statuses.Rejected],\n    to: Statuses.Pending\n}, {\n    name: TransitionActions.Approve,\n    from: [Statuses.Pending, Statuses.Rejected],\n    to: Statuses.Approved\n}, {\n    name: TransitionActions.Reject,\n    from: [Statuses.Approved, Statuses.Pending],\n    to: Statuses.Rejected\n}]\n\nconst programSchema = new mongoose.Schema({\n    _id: {\n        type: String,\n        default: generateUuid,\n    },\n    title: {\n        type: String,\n    },\n    status: {\n        type: String,\n        enum: Object.values(Statuses),\n        default: Statuses.Pending,\n    },\n    logs: [{\n        status: {\n            type: String,\n            enum: Object.values(Statuses),\n        },\n        date: {\n            type: Date\n        },\n    }]\n}, {timestamps: {createdAt: true}})\n\n\nprogramSchema.post('init', function () {\n    this.stateMachine = StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    })\n})\n\nprogramSchema.pre('save', function (next) {\n    if (this.isNew && !this.logs) {\n        this.logs = [{\n            state: this.status,\n            date: new Date()\n        }]\n    }\n\n    next()\n})\n\nprogramSchema.methods.transition = function (action) {\n    if (!this.stateMachine) {\n        this.stateMachine = StateMachine({\n            init: this.status,\n            transitions: stateTransitions\n        })\n    }\n\n    if (this.stateMachine.can(action) && this.stateMachine[action]) {\n        this.stateMachine[action]()\n\n        this.status = this.stateMachine.state()\n        this.logs.push({\n            status: this.status,\n            date: new Date()\n        })\n        return true\n    }\n\n    return false\n}\n\nexport const Program = mongoose.model('Program', programSchema)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572866864318
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
        "sourceFileName": "uuid-helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateUuid = void 0;\n\nvar _nodeUuid = _interopRequireDefault(require(\"node-uuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateUuid = () => _nodeUuid.default.v4();\n\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV1aWQtaGVscGVycy5qcyJdLCJuYW1lcyI6WyJnZW5lcmF0ZVV1aWQiLCJ1dWlkIiwidjQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLFlBQVksR0FBRyxNQUFNQyxrQkFBS0MsRUFBTCxFQUEzQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvdXRpbHMvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1dWlkIGZyb20gJ25vZGUtdXVpZCdcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVXVpZCA9ICgpID0+IHV1aWQudjQoKSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uuid-helpers.js"
      ],
      "names": [
        "generateUuid",
        "uuid",
        "v4"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,YAAY,GAAG,MAAMC,kBAAKC,EAAL,EAA3B",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "sourcesContent": [
        "import uuid from 'node-uuid'\n\nexport const generateUuid = () => uuid.v4()"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765341515
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
        "sourceFileName": "state-machine.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateMachine = void 0;\n\nconst validateClashingMethods = transitions => {\n  const clashingMethodsName = transitions.filter(({\n    name\n  }) => ['can', 'is', 'state', 'transitions'].includes(name)).map(({\n    name\n  }) => name);\n\n  if (clashingMethodsName.length > 0) {\n    throw Error(`${clashingMethodsName.length} transition methods (${clashingMethodsName.join(', ')}) clashed with default method `);\n  }\n};\n\nconst validateInitialDataFormat = ({\n  init,\n  transitions = []\n}) => {\n  if (!init) {\n    throw Error('Initial state is required');\n  }\n\n  if (transitions.length === 0) {\n    throw Error('At least one transition is needed');\n  }\n};\n\nconst StateMachine = ({\n  init,\n  transitions = []\n}) => {\n  validateInitialDataFormat({\n    init,\n    transitions\n  });\n  validateClashingMethods(transitions);\n  let currentState = init;\n  const transitionMethods = {};\n\n  if (transitions.length > 0) {\n    transitions.forEach(({\n      name,\n      from,\n      to\n    }) => {\n      transitionMethods[name] = () => {\n        if (from.includes(currentState)) {\n          currentState = to;\n          return true;\n        }\n\n        return false;\n      };\n    });\n  }\n\n  const getPossibleTransition = () => transitions.filter(({\n    from\n  }) => from.includes(currentState)).map(({\n    name\n  }) => name);\n\n  const isCurrentState = state => state === currentState;\n\n  const canTransit = transition => {\n    const targetTransition = transitions.find(({\n      name\n    }) => name === transition);\n\n    if (targetTransition) {\n      return targetTransition.from.includes(currentState);\n    }\n\n    return false;\n  };\n\n  return {\n    state: () => currentState,\n    ...transitionMethods,\n    transitions: getPossibleTransition,\n    is: isCurrentState,\n    can: canTransit\n  };\n};\n\nexports.StateMachine = StateMachine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRlLW1hY2hpbmUuanMiXSwibmFtZXMiOlsidmFsaWRhdGVDbGFzaGluZ01ldGhvZHMiLCJ0cmFuc2l0aW9ucyIsImNsYXNoaW5nTWV0aG9kc05hbWUiLCJmaWx0ZXIiLCJuYW1lIiwiaW5jbHVkZXMiLCJtYXAiLCJsZW5ndGgiLCJFcnJvciIsImpvaW4iLCJ2YWxpZGF0ZUluaXRpYWxEYXRhRm9ybWF0IiwiaW5pdCIsIlN0YXRlTWFjaGluZSIsImN1cnJlbnRTdGF0ZSIsInRyYW5zaXRpb25NZXRob2RzIiwiZm9yRWFjaCIsImZyb20iLCJ0byIsImdldFBvc3NpYmxlVHJhbnNpdGlvbiIsImlzQ3VycmVudFN0YXRlIiwic3RhdGUiLCJjYW5UcmFuc2l0IiwidHJhbnNpdGlvbiIsInRhcmdldFRyYW5zaXRpb24iLCJmaW5kIiwiaXMiLCJjYW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSx1QkFBdUIsR0FBSUMsV0FBRCxJQUFpQjtBQUM3QyxRQUFNQyxtQkFBbUIsR0FBR0QsV0FBVyxDQUFDRSxNQUFaLENBQW1CLENBQUM7QUFBQ0MsSUFBQUE7QUFBRCxHQUFELEtBQVksQ0FBQyxLQUFELEVBQVEsSUFBUixFQUFjLE9BQWQsRUFBdUIsYUFBdkIsRUFBc0NDLFFBQXRDLENBQStDRCxJQUEvQyxDQUEvQixFQUFxRkUsR0FBckYsQ0FBeUYsQ0FBQztBQUFDRixJQUFBQTtBQUFELEdBQUQsS0FBWUEsSUFBckcsQ0FBNUI7O0FBRUEsTUFBSUYsbUJBQW1CLENBQUNLLE1BQXBCLEdBQTZCLENBQWpDLEVBQW9DO0FBQ2hDLFVBQU1DLEtBQUssQ0FBRSxHQUFFTixtQkFBbUIsQ0FBQ0ssTUFBTyx3QkFBdUJMLG1CQUFtQixDQUFDTyxJQUFwQixDQUF5QixJQUF6QixDQUErQixnQ0FBckYsQ0FBWDtBQUNIO0FBQ0osQ0FORDs7QUFRQSxNQUFNQyx5QkFBeUIsR0FBRyxDQUFDO0FBQUNDLEVBQUFBLElBQUQ7QUFBT1YsRUFBQUEsV0FBVyxHQUFHO0FBQXJCLENBQUQsS0FBOEI7QUFDNUQsTUFBSSxDQUFDVSxJQUFMLEVBQVc7QUFDUCxVQUFNSCxLQUFLLENBQUMsMkJBQUQsQ0FBWDtBQUNIOztBQUVELE1BQUlQLFdBQVcsQ0FBQ00sTUFBWixLQUF1QixDQUEzQixFQUE4QjtBQUMxQixVQUFNQyxLQUFLLENBQUMsbUNBQUQsQ0FBWDtBQUNIO0FBQ0osQ0FSRDs7QUFXTyxNQUFNSSxZQUFZLEdBQUcsQ0FBQztBQUFDRCxFQUFBQSxJQUFEO0FBQU9WLEVBQUFBLFdBQVcsR0FBRztBQUFyQixDQUFELEtBQThCO0FBQ3REUyxFQUFBQSx5QkFBeUIsQ0FBQztBQUFDQyxJQUFBQSxJQUFEO0FBQU9WLElBQUFBO0FBQVAsR0FBRCxDQUF6QjtBQUNBRCxFQUFBQSx1QkFBdUIsQ0FBQ0MsV0FBRCxDQUF2QjtBQUVBLE1BQUlZLFlBQVksR0FBR0YsSUFBbkI7QUFDQSxRQUFNRyxpQkFBaUIsR0FBRyxFQUExQjs7QUFFQSxNQUFJYixXQUFXLENBQUNNLE1BQVosR0FBcUIsQ0FBekIsRUFBNEI7QUFDeEJOLElBQUFBLFdBQVcsQ0FBQ2MsT0FBWixDQUFvQixDQUFDO0FBQUNYLE1BQUFBLElBQUQ7QUFBT1ksTUFBQUEsSUFBUDtBQUFhQyxNQUFBQTtBQUFiLEtBQUQsS0FBc0I7QUFDdENILE1BQUFBLGlCQUFpQixDQUFDVixJQUFELENBQWpCLEdBQTBCLE1BQU07QUFDNUIsWUFBSVksSUFBSSxDQUFDWCxRQUFMLENBQWNRLFlBQWQsQ0FBSixFQUFpQztBQUM3QkEsVUFBQUEsWUFBWSxHQUFHSSxFQUFmO0FBQ0EsaUJBQU8sSUFBUDtBQUNIOztBQUNELGVBQU8sS0FBUDtBQUNILE9BTkQ7QUFPSCxLQVJEO0FBU0g7O0FBRUQsUUFBTUMscUJBQXFCLEdBQUcsTUFBTWpCLFdBQVcsQ0FDMUNFLE1BRCtCLENBQ3hCLENBQUM7QUFBQ2EsSUFBQUE7QUFBRCxHQUFELEtBQVlBLElBQUksQ0FBQ1gsUUFBTCxDQUFjUSxZQUFkLENBRFksRUFFL0JQLEdBRitCLENBRTNCLENBQUM7QUFBQ0YsSUFBQUE7QUFBRCxHQUFELEtBQVlBLElBRmUsQ0FBcEM7O0FBS0EsUUFBTWUsY0FBYyxHQUFJQyxLQUFELElBQVdBLEtBQUssS0FBS1AsWUFBNUM7O0FBRUEsUUFBTVEsVUFBVSxHQUFJQyxVQUFELElBQWdCO0FBQy9CLFVBQU1DLGdCQUFnQixHQUFHdEIsV0FBVyxDQUFDdUIsSUFBWixDQUFpQixDQUFDO0FBQUNwQixNQUFBQTtBQUFELEtBQUQsS0FBWUEsSUFBSSxLQUFLa0IsVUFBdEMsQ0FBekI7O0FBQ0EsUUFBSUMsZ0JBQUosRUFBc0I7QUFDbEIsYUFBT0EsZ0JBQWdCLENBQUNQLElBQWpCLENBQXNCWCxRQUF0QixDQUErQlEsWUFBL0IsQ0FBUDtBQUNIOztBQUNELFdBQU8sS0FBUDtBQUNILEdBTkQ7O0FBUUEsU0FBTztBQUNITyxJQUFBQSxLQUFLLEVBQUUsTUFBTVAsWUFEVjtBQUVILE9BQUdDLGlCQUZBO0FBR0hiLElBQUFBLFdBQVcsRUFBRWlCLHFCQUhWO0FBSUhPLElBQUFBLEVBQUUsRUFBRU4sY0FKRDtBQUtITyxJQUFBQSxHQUFHLEVBQUVMO0FBTEYsR0FBUDtBQU9ILENBekNNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy95aXNoZW5nL1Byb2plY3RzL2FwcHJvdmUtd29ya2Zsb3cvc2VydmVyL3NyYy91dGlscy9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHZhbGlkYXRlQ2xhc2hpbmdNZXRob2RzID0gKHRyYW5zaXRpb25zKSA9PiB7XG4gICAgY29uc3QgY2xhc2hpbmdNZXRob2RzTmFtZSA9IHRyYW5zaXRpb25zLmZpbHRlcigoe25hbWV9KSA9PiBbJ2NhbicsICdpcycsICdzdGF0ZScsICd0cmFuc2l0aW9ucyddLmluY2x1ZGVzKG5hbWUpKS5tYXAoKHtuYW1lfSkgPT4gbmFtZSlcblxuICAgIGlmIChjbGFzaGluZ01ldGhvZHNOYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7Y2xhc2hpbmdNZXRob2RzTmFtZS5sZW5ndGh9IHRyYW5zaXRpb24gbWV0aG9kcyAoJHtjbGFzaGluZ01ldGhvZHNOYW1lLmpvaW4oJywgJyl9KSBjbGFzaGVkIHdpdGggZGVmYXVsdCBtZXRob2QgYClcbiAgICB9XG59XG5cbmNvbnN0IHZhbGlkYXRlSW5pdGlhbERhdGFGb3JtYXQgPSAoe2luaXQsIHRyYW5zaXRpb25zID0gW119KSA9PiB7XG4gICAgaWYgKCFpbml0KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbml0aWFsIHN0YXRlIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICBpZiAodHJhbnNpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdBdCBsZWFzdCBvbmUgdHJhbnNpdGlvbiBpcyBuZWVkZWQnKVxuICAgIH1cbn1cblxuXG5leHBvcnQgY29uc3QgU3RhdGVNYWNoaW5lID0gKHtpbml0LCB0cmFuc2l0aW9ucyA9IFtdfSkgPT4ge1xuICAgIHZhbGlkYXRlSW5pdGlhbERhdGFGb3JtYXQoe2luaXQsIHRyYW5zaXRpb25zfSlcbiAgICB2YWxpZGF0ZUNsYXNoaW5nTWV0aG9kcyh0cmFuc2l0aW9ucylcblxuICAgIGxldCBjdXJyZW50U3RhdGUgPSBpbml0XG4gICAgY29uc3QgdHJhbnNpdGlvbk1ldGhvZHMgPSB7fVxuXG4gICAgaWYgKHRyYW5zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJhbnNpdGlvbnMuZm9yRWFjaCgoe25hbWUsIGZyb20sIHRvfSkgPT4ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbk1ldGhvZHNbbmFtZV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20uaW5jbHVkZXMoY3VycmVudFN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSB0b1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQb3NzaWJsZVRyYW5zaXRpb24gPSAoKSA9PiB0cmFuc2l0aW9uc1xuICAgICAgICAuZmlsdGVyKCh7ZnJvbX0pID0+IGZyb20uaW5jbHVkZXMoY3VycmVudFN0YXRlKSlcbiAgICAgICAgLm1hcCgoe25hbWV9KSA9PiBuYW1lKVxuXG5cbiAgICBjb25zdCBpc0N1cnJlbnRTdGF0ZSA9IChzdGF0ZSkgPT4gc3RhdGUgPT09IGN1cnJlbnRTdGF0ZVxuXG4gICAgY29uc3QgY2FuVHJhbnNpdCA9ICh0cmFuc2l0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFRyYW5zaXRpb24gPSB0cmFuc2l0aW9ucy5maW5kKCh7bmFtZX0pID0+IG5hbWUgPT09IHRyYW5zaXRpb24pXG4gICAgICAgIGlmICh0YXJnZXRUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0VHJhbnNpdGlvbi5mcm9tLmluY2x1ZGVzKGN1cnJlbnRTdGF0ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZTogKCkgPT4gY3VycmVudFN0YXRlLFxuICAgICAgICAuLi50cmFuc2l0aW9uTWV0aG9kcyxcbiAgICAgICAgdHJhbnNpdGlvbnM6IGdldFBvc3NpYmxlVHJhbnNpdGlvbixcbiAgICAgICAgaXM6IGlzQ3VycmVudFN0YXRlLFxuICAgICAgICBjYW46IGNhblRyYW5zaXQsXG4gICAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "state-machine.js"
      ],
      "names": [
        "validateClashingMethods",
        "transitions",
        "clashingMethodsName",
        "filter",
        "name",
        "includes",
        "map",
        "length",
        "Error",
        "join",
        "validateInitialDataFormat",
        "init",
        "StateMachine",
        "currentState",
        "transitionMethods",
        "forEach",
        "from",
        "to",
        "getPossibleTransition",
        "isCurrentState",
        "state",
        "canTransit",
        "transition",
        "targetTransition",
        "find",
        "is",
        "can"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,uBAAuB,GAAIC,WAAD,IAAiB;AAC7C,QAAMC,mBAAmB,GAAGD,WAAW,CAACE,MAAZ,CAAmB,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAY,CAAC,KAAD,EAAQ,IAAR,EAAc,OAAd,EAAuB,aAAvB,EAAsCC,QAAtC,CAA+CD,IAA/C,CAA/B,EAAqFE,GAArF,CAAyF,CAAC;AAACF,IAAAA;AAAD,GAAD,KAAYA,IAArG,CAA5B;;AAEA,MAAIF,mBAAmB,CAACK,MAApB,GAA6B,CAAjC,EAAoC;AAChC,UAAMC,KAAK,CAAE,GAAEN,mBAAmB,CAACK,MAAO,wBAAuBL,mBAAmB,CAACO,IAApB,CAAyB,IAAzB,CAA+B,gCAArF,CAAX;AACH;AACJ,CAND;;AAQA,MAAMC,yBAAyB,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOV,EAAAA,WAAW,GAAG;AAArB,CAAD,KAA8B;AAC5D,MAAI,CAACU,IAAL,EAAW;AACP,UAAMH,KAAK,CAAC,2BAAD,CAAX;AACH;;AAED,MAAIP,WAAW,CAACM,MAAZ,KAAuB,CAA3B,EAA8B;AAC1B,UAAMC,KAAK,CAAC,mCAAD,CAAX;AACH;AACJ,CARD;;AAWO,MAAMI,YAAY,GAAG,CAAC;AAACD,EAAAA,IAAD;AAAOV,EAAAA,WAAW,GAAG;AAArB,CAAD,KAA8B;AACtDS,EAAAA,yBAAyB,CAAC;AAACC,IAAAA,IAAD;AAAOV,IAAAA;AAAP,GAAD,CAAzB;AACAD,EAAAA,uBAAuB,CAACC,WAAD,CAAvB;AAEA,MAAIY,YAAY,GAAGF,IAAnB;AACA,QAAMG,iBAAiB,GAAG,EAA1B;;AAEA,MAAIb,WAAW,CAACM,MAAZ,GAAqB,CAAzB,EAA4B;AACxBN,IAAAA,WAAW,CAACc,OAAZ,CAAoB,CAAC;AAACX,MAAAA,IAAD;AAAOY,MAAAA,IAAP;AAAaC,MAAAA;AAAb,KAAD,KAAsB;AACtCH,MAAAA,iBAAiB,CAACV,IAAD,CAAjB,GAA0B,MAAM;AAC5B,YAAIY,IAAI,CAACX,QAAL,CAAcQ,YAAd,CAAJ,EAAiC;AAC7BA,UAAAA,YAAY,GAAGI,EAAf;AACA,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH,OAND;AAOH,KARD;AASH;;AAED,QAAMC,qBAAqB,GAAG,MAAMjB,WAAW,CAC1CE,MAD+B,CACxB,CAAC;AAACa,IAAAA;AAAD,GAAD,KAAYA,IAAI,CAACX,QAAL,CAAcQ,YAAd,CADY,EAE/BP,GAF+B,CAE3B,CAAC;AAACF,IAAAA;AAAD,GAAD,KAAYA,IAFe,CAApC;;AAKA,QAAMe,cAAc,GAAIC,KAAD,IAAWA,KAAK,KAAKP,YAA5C;;AAEA,QAAMQ,UAAU,GAAIC,UAAD,IAAgB;AAC/B,UAAMC,gBAAgB,GAAGtB,WAAW,CAACuB,IAAZ,CAAiB,CAAC;AAACpB,MAAAA;AAAD,KAAD,KAAYA,IAAI,KAAKkB,UAAtC,CAAzB;;AACA,QAAIC,gBAAJ,EAAsB;AAClB,aAAOA,gBAAgB,CAACP,IAAjB,CAAsBX,QAAtB,CAA+BQ,YAA/B,CAAP;AACH;;AACD,WAAO,KAAP;AACH,GAND;;AAQA,SAAO;AACHO,IAAAA,KAAK,EAAE,MAAMP,YADV;AAEH,OAAGC,iBAFA;AAGHb,IAAAA,WAAW,EAAEiB,qBAHV;AAIHO,IAAAA,EAAE,EAAEN,cAJD;AAKHO,IAAAA,GAAG,EAAEL;AALF,GAAP;AAOH,CAzCM",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "sourcesContent": [
        "const validateClashingMethods = (transitions) => {\n    const clashingMethodsName = transitions.filter(({name}) => ['can', 'is', 'state', 'transitions'].includes(name)).map(({name}) => name)\n\n    if (clashingMethodsName.length > 0) {\n        throw Error(`${clashingMethodsName.length} transition methods (${clashingMethodsName.join(', ')}) clashed with default method `)\n    }\n}\n\nconst validateInitialDataFormat = ({init, transitions = []}) => {\n    if (!init) {\n        throw Error('Initial state is required')\n    }\n\n    if (transitions.length === 0) {\n        throw Error('At least one transition is needed')\n    }\n}\n\n\nexport const StateMachine = ({init, transitions = []}) => {\n    validateInitialDataFormat({init, transitions})\n    validateClashingMethods(transitions)\n\n    let currentState = init\n    const transitionMethods = {}\n\n    if (transitions.length > 0) {\n        transitions.forEach(({name, from, to}) => {\n            transitionMethods[name] = () => {\n                if (from.includes(currentState)) {\n                    currentState = to\n                    return true\n                }\n                return false\n            }\n        })\n    }\n\n    const getPossibleTransition = () => transitions\n        .filter(({from}) => from.includes(currentState))\n        .map(({name}) => name)\n\n\n    const isCurrentState = (state) => state === currentState\n\n    const canTransit = (transition) => {\n        const targetTransition = transitions.find(({name}) => name === transition)\n        if (targetTransition) {\n            return targetTransition.from.includes(currentState)\n        }\n        return false\n    }\n\n    return {\n        state: () => currentState,\n        ...transitionMethods,\n        transitions: getPossibleTransition,\n        is: isCurrentState,\n        can: canTransit,\n    }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572866972030
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectDb = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow';\n\nconst connectDb = () => _mongoose.default.connect(DATABASE_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nexports.connectDb = connectDb;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRBVEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJjb25uZWN0RGIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFlBQVosSUFBNEIsNENBQWpEOztBQUVPLE1BQU1HLFNBQVMsR0FBRyxNQUFNQyxrQkFBU0MsT0FBVCxDQUFpQkwsWUFBakIsRUFBK0I7QUFDMURNLEVBQUFBLGVBQWUsRUFBRSxJQUR5QztBQUUxREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGc0MsQ0FBL0IsQ0FBeEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgREFUQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMIHx8ICdtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2FwcHJvdmUtd29ya2Zsb3cnXG5cbmV4cG9ydCBjb25zdCBjb25uZWN0RGIgPSAoKSA9PiBtb25nb29zZS5jb25uZWN0KERBVEFCQVNFX1VSTCwge1xuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG59KVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "DATABASE_URL",
        "process",
        "env",
        "connectDb",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYF,YAAZ,IAA4B,4CAAjD;;AAEO,MAAMG,SAAS,GAAG,MAAMC,kBAASC,OAAT,CAAiBL,YAAjB,EAA+B;AAC1DM,EAAAA,eAAe,EAAE,IADyC;AAE1DC,EAAAA,kBAAkB,EAAE;AAFsC,CAA/B,CAAxB",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nconst DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow'\n\nexport const connectDb = () => mongoose.connect(DATABASE_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765060912
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/approval-status.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
        "sourceFileName": "approval-status.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProgram = exports.holdProgram = exports.rejectProgram = exports.approveProgram = exports.createProgram = exports.getAllPrograms = void 0;\n\nvar _program = require(\"../models/program\");\n\nconst getAllPrograms = async (req, res) => {\n  try {\n    const programs = await _program.Program.find({});\n    res.status(200).json({\n      data: programs.map(program => {\n        return {\n          title: program.title,\n          _id: program._id,\n          transitions: program.transitions()\n        };\n      })\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.getAllPrograms = getAllPrograms;\n\nconst createProgram = async (req, res) => {\n  try {\n    const program = new _program.Program();\n    program.title = req.body.title;\n    program.status = req.body.status;\n    program.save();\n    res.status(200).json({\n      data: {\n        _id: program.id\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.createProgram = createProgram;\n\nconst approveProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.approve()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.approveProgram = approveProgram;\n\nconst rejectProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.reject()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.rejectProgram = rejectProgram;\n\nconst holdProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    res.status(200).json({\n      data: {\n        success: program.hold()\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.holdProgram = holdProgram;\n\nconst deleteProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    program.remove();\n    res.status(200).json({\n      data: {\n        success: true\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.deleteProgram = deleteProgram;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcHJvdmFsLXN0YXR1cy5qcyJdLCJuYW1lcyI6WyJnZXRBbGxQcm9ncmFtcyIsInJlcSIsInJlcyIsInByb2dyYW1zIiwiUHJvZ3JhbSIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1hcCIsInByb2dyYW0iLCJ0aXRsZSIsIl9pZCIsInRyYW5zaXRpb25zIiwiZXJyIiwiY3JlYXRlUHJvZ3JhbSIsImJvZHkiLCJzYXZlIiwiaWQiLCJhcHByb3ZlUHJvZ3JhbSIsImZpbmRPbmUiLCJwYXJhbXMiLCJzdWNjZXNzIiwiYXBwcm92ZSIsInJlamVjdFByb2dyYW0iLCJyZWplY3QiLCJob2xkUHJvZ3JhbSIsImhvbGQiLCJkZWxldGVQcm9ncmFtIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsY0FBYyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM5QyxNQUFJO0FBQ0EsVUFBTUMsUUFBUSxHQUFHLE1BQU1DLGlCQUFRQyxJQUFSLENBQWEsRUFBYixDQUF2QjtBQUVBSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFTCxRQUFRLENBQUNNLEdBQVQsQ0FBY0MsT0FBRCxJQUFhO0FBQzVCLGVBQU87QUFDSEMsVUFBQUEsS0FBSyxFQUFFRCxPQUFPLENBQUNDLEtBRFo7QUFFSEMsVUFBQUEsR0FBRyxFQUFFRixPQUFPLENBQUNFLEdBRlY7QUFHSEMsVUFBQUEsV0FBVyxFQUFFSCxPQUFPLENBQUNHLFdBQVI7QUFIVixTQUFQO0FBS0gsT0FOSztBQURXLEtBQXJCO0FBU0gsR0FaRCxDQVlFLE9BQU9DLEdBQVAsRUFBWTtBQUNWWixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQk8sR0FBckI7QUFDSDtBQUNKLENBaEJNOzs7O0FBa0JBLE1BQU1DLGFBQWEsR0FBRyxPQUFP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QSxVQUFNUSxPQUFPLEdBQUcsTUFBTU4saUJBQVFnQixPQUFSLENBQWdCO0FBQUNSLE1BQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDb0IsTUFBSixDQUFXSDtBQUFqQixLQUFoQixDQUF0QjtBQUNBUixJQUFBQSxPQUFPLENBQUNtQixNQUFSO0FBRUEzQixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZjLFFBQUFBLE9BQU8sRUFBRTtBQURQO0FBRFcsS0FBckI7QUFNSCxHQVhELENBV0UsT0FBT1IsR0FBUCxFQUFZO0FBQ1ZaLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCTyxHQUFyQjtBQUNIO0FBQ0osQ0FmTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Byb2dyYW19IGZyb20gJy4uL21vZGVscy9wcm9ncmFtJ1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsUHJvZ3JhbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9ncmFtcyA9IGF3YWl0IFByb2dyYW0uZmluZCh7fSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiBwcm9ncmFtcy5tYXAoKHByb2dyYW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZ3JhbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBwcm9ncmFtLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IHByb2dyYW0udHJhbnNpdGlvbnMoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKClcbiAgICAgICAgcHJvZ3JhbS50aXRsZSA9IHJlcS5ib2R5LnRpdGxlXG4gICAgICAgIHByb2dyYW0uc3RhdHVzID0gcmVxLmJvZHkuc3RhdHVzXG4gICAgICAgIHByb2dyYW0uc2F2ZSgpXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIF9pZDogcHJvZ3JhbS5pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBwcm92ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6cHJvZ3JhbS5hcHByb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVqZWN0UHJvZ3JhbSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGF3YWl0IFByb2dyYW0uZmluZE9uZSh7X2lkOiByZXEucGFyYW1zLmlkfSlcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzczpwcm9ncmFtLnJlamVjdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGhvbGRQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gYXdhaXQgUHJvZ3JhbS5maW5kT25lKHtfaWQ6IHJlcS5wYXJhbXMuaWR9KVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOnByb2dyYW0uaG9sZCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG4gICAgICAgIHByb2dyYW0ucmVtb3ZlKClcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "approval-status.js"
      ],
      "names": [
        "getAllPrograms",
        "req",
        "res",
        "programs",
        "Program",
        "find",
        "status",
        "json",
        "data",
        "map",
        "program",
        "title",
        "_id",
        "transitions",
        "err",
        "createProgram",
        "body",
        "save",
        "id",
        "approveProgram",
        "findOne",
        "params",
        "success",
        "approve",
        "rejectProgram",
        "reject",
        "holdProgram",
        "hold",
        "deleteProgram",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "sourcesContent": [
        "import {Program} from '../models/program'\n\nexport const getAllPrograms = async (req, res) => {\n    try {\n        const programs = await Program.find({})\n\n        res.status(200).json({\n            data: programs.map((program) => {\n                return {\n                    title: program.title,\n                    _id: program._id,\n                    transitions: program.transitions()\n                }\n            })\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const createProgram = async (req, res) => {\n    try {\n        const program = new Program()\n        program.title = req.body.title\n        program.status = req.body.status\n        program.save()\n\n        res.status(200).json({\n            data: {\n                _id: program.id\n            }\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const approveProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.approve()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const rejectProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.reject()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const holdProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n\n        res.status(200).json({\n            data: {\n                success:program.hold()\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const deleteProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n        program.remove()\n\n        res.status(200).json({\n            data: {\n                success: true\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572784852185
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/program.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/program.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "program.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Program = exports.TransitionActions = exports.Statuses = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _uuidHelpers = require(\"../utils/helpers/uuid-helpers\");\n\nvar _stateMachine = require(\"../utils/services/state-machine\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Statuses = Object.freeze({\n  Pending: 'pending',\n  Approved: 'approved',\n  Rejected: 'rejected'\n});\nexports.Statuses = Statuses;\nconst TransitionActions = Object.freeze({\n  Hold: 'hold',\n  Approve: 'approve',\n  Reject: 'reject'\n});\nexports.TransitionActions = TransitionActions;\nconst stateTransitions = [{\n  name: TransitionActions.Hold,\n  from: [Statuses.Approved, Statuses.Rejected],\n  to: Statuses.Pending\n}, {\n  name: TransitionActions.Approve,\n  from: [Statuses.Pending, Statuses.Rejected],\n  to: Statuses.Approved\n}, {\n  name: TransitionActions.Reject,\n  from: [Statuses.Approved, Statuses.Pending],\n  to: Statuses.Rejected\n}];\nconst programSchema = new _mongoose.default.Schema({\n  _id: {\n    type: String,\n    default: _uuidHelpers.generateUuid\n  },\n  title: {\n    type: String\n  },\n  status: {\n    type: String,\n    enum: Object.values(Statuses),\n    default: Statuses.Pending\n  },\n  logs: [{\n    status: {\n      type: String,\n      enum: Object.values(Statuses)\n    },\n    date: {\n      type: Date\n    }\n  }]\n}, {\n  timestamps: {\n    createdAt: true\n  }\n});\nprogramSchema.post('init', function () {\n  this.stateMachine = (0, _stateMachine.StateMachine)({\n    init: this.status,\n    transitions: stateTransitions\n  });\n});\nprogramSchema.pre('save', function (next) {\n  if (this.isNew && !this.logs) {\n    this.logs = [{\n      state: this.status,\n      date: new Date()\n    }];\n  }\n\n  next();\n});\n\nprogramSchema.methods.transition = function (action) {\n  if (!this.stateMachine) {\n    this.stateMachine = (0, _stateMachine.StateMachine)({\n      init: this.status,\n      transitions: stateTransitions\n    });\n  }\n\n  if (this.stateMachine.can(action) && this.stateMachine[action]) {\n    this.stateMachine[action]();\n    this.status = this.stateMachine.state();\n    this.logs.push({\n      status: this.status,\n      date: new Date()\n    });\n    return true;\n  }\n\n  return false;\n};\n\nconst Program = _mongoose.default.model('Program', programSchema);\n\nexports.Program = Program;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyYW0uanMiXSwibmFtZXMiOlsiU3RhdHVzZXMiLCJPYmplY3QiLCJmcmVlemUiLCJQZW5kaW5nIiwiQXBwcm92ZWQiLCJSZWplY3RlZCIsIlRyYW5zaXRpb25BY3Rpb25zIiwiSG9sZCIsIkFwcHJvdmUiLCJSZWplY3QiLCJzdGF0ZVRyYW5zaXRpb25zIiwibmFtZSIsImZyb20iLCJ0byIsInByb2dyYW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZ2VuZXJhdGVVdWlkIiwidGl0bGUiLCJzdGF0dXMiLCJlbnVtIiwidmFsdWVzIiwibG9ncyIsImRhdGUiLCJEYXRlIiwidGltZXN0YW1wcyIsImNyZWF0ZWRBdCIsInBvc3QiLCJzdGF0ZU1hY2hpbmUiLCJpbml0IiwidHJhbnNpdGlvbnMiLCJwcmUiLCJuZXh0IiwiaXNOZXciLCJzdGF0ZSIsIm1ldGhvZHMiLCJ0cmFuc2l0aW9uIiwiYWN0aW9uIiwiY2FuIiwicHVzaCIsIlByb2dyYW0iLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBOztBQUNBOzs7O0FBRU8sTUFBTUEsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNsQ0MsRUFBQUEsT0FBTyxFQUFFLFNBRHlCO0FBRWxDQyxFQUFBQSxRQUFRLEVBQUUsVUFGd0I7QUFHbENDLEVBQUFBLFFBQVEsRUFBRTtBQUh3QixDQUFkLENBQWpCOztBQU1BLE1BQU1DLGlCQUFpQixHQUFHTCxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUMzQ0ssRUFBQUEsSUFBSSxFQUFFLE1BRHFDO0FBRTNDQyxFQUFBQSxPQUFPLEVBQUUsU0FGa0M7QUFHM0NDLEVBQUFBLE1BQU0sRUFBRTtBQUhtQyxDQUFkLENBQTFCOztBQU1QLE1BQU1DLGdCQUFnQixHQUFHLENBQUM7QUFDdEJDLEVBQUFBLElBQUksRUFBRUwsaUJBQWlCLENBQUNDLElBREY7QUFFdEJLLEVBQUFBLElB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LENBQWtCUyxNQUFsQjtBQUVBLFNBQUtsQixNQUFMLEdBQWMsS0FBS1MsWUFBTCxDQUFrQk0sS0FBbEIsRUFBZDtBQUNBLFNBQUtaLElBQUwsQ0FBVWlCLElBQVYsQ0FBZTtBQUNYcEIsTUFBQUEsTUFBTSxFQUFFLEtBQUtBLE1BREY7QUFFWEksTUFBQUEsSUFBSSxFQUFFLElBQUlDLElBQUo7QUFGSyxLQUFmO0FBSUEsV0FBTyxJQUFQO0FBQ0g7O0FBRUQsU0FBTyxLQUFQO0FBQ0gsQ0FwQkQ7O0FBc0JPLE1BQU1nQixPQUFPLEdBQUc3QixrQkFBUzhCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCL0IsYUFBMUIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuaW1wb3J0IHtnZW5lcmF0ZVV1aWR9IGZyb20gJy4uL3V0aWxzL2hlbHBlcnMvdXVpZC1oZWxwZXJzJ1xuaW1wb3J0IHtTdGF0ZU1hY2hpbmV9IGZyb20gJy4uL3V0aWxzL3NlcnZpY2VzL3N0YXRlLW1hY2hpbmUnXG5cbmV4cG9ydCBjb25zdCBTdGF0dXNlcyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFBlbmRpbmc6ICdwZW5kaW5nJyxcbiAgICBBcHByb3ZlZDogJ2FwcHJvdmVkJyxcbiAgICBSZWplY3RlZDogJ3JlamVjdGVkJ1xufSlcblxuZXhwb3J0IGNvbnN0IFRyYW5zaXRpb25BY3Rpb25zID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSG9sZDogJ2hvbGQnLFxuICAgIEFwcHJvdmU6ICdhcHByb3ZlJyxcbiAgICBSZWplY3Q6ICdyZWplY3QnXG59KVxuXG5jb25zdCBzdGF0ZVRyYW5zaXRpb25zID0gW3tcbiAgICBuYW1lOiBUcmFuc2l0aW9uQWN0aW9ucy5Ib2xkLFxuICAgIGZyb206IFtTdGF0dXNlcy5BcHByb3ZlZCwgU3RhdHVzZXMuUmVqZWN0ZWRdLFxuICAgIHRvOiBTdGF0dXNlcy5QZW5kaW5nXG59LCB7XG4gICAgbmFtZTogVHJhbnNpdGlvbkFjdGlvbnMuQXBwcm92ZSxcbiAgICBmcm9tOiBbU3RhdHVzZXMuUGVuZGluZywgU3RhdHVzZXMuUmVqZWN0ZWRdLFxuICAgIHRvOiBTdGF0dXNlcy5BcHByb3ZlZFxufSwge1xuICAgIG5hbWU6IFRyYW5zaXRpb25BY3Rpb25zLlJlamVjdCxcbiAgICBmcm9tOiBbU3RhdHVzZXMuQXBwcm92ZWQsIFN0YXR1c2VzLlBlbmRpbmddLFxuICAgIHRvOiBTdGF0dXNlcy5SZWplY3RlZFxufV1cblxuY29uc3QgcHJvZ3JhbVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIF9pZDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6IGdlbmVyYXRlVXVpZCxcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IE9iamVjdC52YWx1ZXMoU3RhdHVzZXMpLFxuICAgICAgICBkZWZhdWx0OiBTdGF0dXNlcy5QZW5kaW5nLFxuICAgIH0sXG4gICAgbG9nczogW3tcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKFN0YXR1c2VzKSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9LFxuICAgIH1dXG59LCB7dGltZXN0YW1wczoge2NyZWF0ZWRBdDogdHJ1ZX19KVxuXG5cbnByb2dyYW1TY2hlbWEucG9zdCgnaW5pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXRlTWFjaGluZSA9IFN0YXRlTWFjaGluZSh7XG4gICAgICAgIGluaXQ6IHRoaXMuc3RhdHVzLFxuICAgICAgICB0cmFuc2l0aW9uczogc3RhdGVUcmFuc2l0aW9uc1xuICAgIH0pXG59KVxuXG5wcm9ncmFtU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgaWYgKHRoaXMuaXNOZXcgJiYgIXRoaXMubG9ncykge1xuICAgICAgICB0aGlzLmxvZ3MgPSBbe1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKVxuICAgICAgICB9XVxuICAgIH1cblxuICAgIG5leHQoKVxufSlcblxucHJvZ3JhbVNjaGVtYS5tZXRob2RzLnRyYW5zaXRpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlTWFjaGluZSkge1xuICAgICAgICB0aGlzLnN0YXRlTWFjaGluZSA9IFN0YXRlTWFjaGluZSh7XG4gICAgICAgICAgICBpbml0OiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBzdGF0ZVRyYW5zaXRpb25zXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGVNYWNoaW5lLmNhbihhY3Rpb24pICYmIHRoaXMuc3RhdGVNYWNoaW5lW2FjdGlvbl0pIHtcbiAgICAgICAgdGhpcy5zdGF0ZU1hY2hpbmVbYWN0aW9uXSgpXG5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXRlTWFjaGluZS5zdGF0ZSgpXG4gICAgICAgIHRoaXMubG9ncy5wdXNoKHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBQcm9ncmFtID0gbW9uZ29vc2UubW9kZWwoJ1Byb2dyYW0nLCBwcm9ncmFtU2NoZW1hKVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "program.js"
      ],
      "names": [
        "Statuses",
        "Object",
        "freeze",
        "Pending",
        "Approved",
        "Rejected",
        "TransitionActions",
        "Hold",
        "Approve",
        "Reject",
        "stateTransitions",
        "name",
        "from",
        "to",
        "programSchema",
        "mongoose",
        "Schema",
        "_id",
        "type",
        "String",
        "default",
        "generateUuid",
        "title",
        "status",
        "enum",
        "values",
        "logs",
        "date",
        "Date",
        "timestamps",
        "createdAt",
        "post",
        "stateMachine",
        "init",
        "transitions",
        "pre",
        "next",
        "isNew",
        "state",
        "methods",
        "transition",
        "action",
        "can",
        "push",
        "Program",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nimport {generateUuid} from '../utils/helpers/uuid-helpers'\nimport {StateMachine} from '../utils/services/state-machine'\n\nexport const Statuses = Object.freeze({\n    Pending: 'pending',\n    Approved: 'approved',\n    Rejected: 'rejected'\n})\n\nexport const TransitionActions = Object.freeze({\n    Hold: 'hold',\n    Approve: 'approve',\n    Reject: 'reject'\n})\n\nconst stateTransitions = [{\n    name: TransitionActions.Hold,\n    from: [Statuses.Approved, Statuses.Rejected],\n    to: Statuses.Pending\n}, {\n    name: TransitionActions.Approve,\n    from: [Statuses.Pending, Statuses.Rejected],\n    to: Statuses.Approved\n}, {\n    name: TransitionActions.Reject,\n    from: [Statuses.Approved, Statuses.Pending],\n    to: Statuses.Rejected\n}]\n\nconst programSchema = new mongoose.Schema({\n    _id: {\n        type: String,\n        default: generateUuid,\n    },\n    title: {\n        type: String,\n    },\n    status: {\n        type: String,\n        enum: Object.values(Statuses),\n        default: Statuses.Pending,\n    },\n    logs: [{\n        status: {\n            type: String,\n            enum: Object.values(Statuses),\n        },\n        date: {\n            type: Date\n        },\n    }]\n}, {timestamps: {createdAt: true}})\n\n\nprogramSchema.post('init', function () {\n    this.stateMachine = StateMachine({\n        init: this.status,\n        transitions: stateTransitions\n    })\n})\n\nprogramSchema.pre('save', function (next) {\n    if (this.isNew && !this.logs) {\n        this.logs = [{\n            state: this.status,\n            date: new Date()\n        }]\n    }\n\n    next()\n})\n\nprogramSchema.methods.transition = function (action) {\n    if (!this.stateMachine) {\n        this.stateMachine = StateMachine({\n            init: this.status,\n            transitions: stateTransitions\n        })\n    }\n\n    if (this.stateMachine.can(action) && this.stateMachine[action]) {\n        this.stateMachine[action]()\n\n        this.status = this.stateMachine.state()\n        this.logs.push({\n            status: this.status,\n            date: new Date()\n        })\n        return true\n    }\n\n    return false\n}\n\nexport const Program = mongoose.model('Program', programSchema)\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572866864318
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers/uuid-helpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
        "sourceFileName": "uuid-helpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateUuid = void 0;\n\nvar _nodeUuid = _interopRequireDefault(require(\"node-uuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateUuid = () => _nodeUuid.default.v4();\n\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV1aWQtaGVscGVycy5qcyJdLCJuYW1lcyI6WyJnZW5lcmF0ZVV1aWQiLCJ1dWlkIiwidjQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVPLE1BQU1BLFlBQVksR0FBRyxNQUFNQyxrQkFBS0MsRUFBTCxFQUEzQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMveWlzaGVuZy9Qcm9qZWN0cy9hcHByb3ZlLXdvcmtmbG93L3NlcnZlci9zcmMvdXRpbHMvaGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1dWlkIGZyb20gJ25vZGUtdXVpZCdcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVXVpZCA9ICgpID0+IHV1aWQudjQoKSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uuid-helpers.js"
      ],
      "names": [
        "generateUuid",
        "uuid",
        "v4"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEO,MAAMA,YAAY,GAAG,MAAMC,kBAAKC,EAAL,EAA3B",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/helpers",
      "sourcesContent": [
        "import uuid from 'node-uuid'\n\nexport const generateUuid = () => uuid.v4()"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765341515
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services/state-machine.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
        "sourceFileName": "state-machine.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateMachine = void 0;\n\nconst validateClashingMethods = transitions => {\n  const clashingMethodsName = transitions.filter(({\n    name\n  }) => ['can', 'is', 'state', 'transitions'].includes(name)).map(({\n    name\n  }) => name);\n\n  if (clashingMethodsName.length > 0) {\n    throw Error(`${clashingMethodsName.length} transition methods (${clashingMethodsName.join(', ')}) clashed with default method `);\n  }\n};\n\nconst validateInitialDataFormat = ({\n  init,\n  transitions = []\n}) => {\n  if (!init) {\n    throw Error('Initial state is required');\n  }\n\n  if (transitions.length === 0) {\n    throw Error('At least one transition is needed');\n  }\n};\n\nconst StateMachine = ({\n  init,\n  transitions = []\n}) => {\n  validateInitialDataFormat({\n    init,\n    transitions\n  });\n  validateClashingMethods(transitions);\n  let currentState = init;\n  const transitionMethods = {};\n\n  if (transitions.length > 0) {\n    transitions.forEach(({\n      name,\n      from,\n      to\n    }) => {\n      transitionMethods[name] = () => {\n        if (from.includes(currentState)) {\n          currentState = to;\n          return true;\n        }\n\n        return false;\n      };\n    });\n  }\n\n  const getPossibleTransition = () => transitions.filter(({\n    from\n  }) => from.includes(currentState)).map(({\n    name\n  }) => name);\n\n  const isCurrentState = state => state === currentState;\n\n  const canTransit = transition => {\n    const targetTransition = transitions.find(({\n      name\n    }) => name === transition);\n\n    if (targetTransition) {\n      return targetTransition.from.includes(currentState);\n    }\n\n    return false;\n  };\n\n  return {\n    state: () => currentState,\n    ...transitionMethods,\n    transitions: getPossibleTransition,\n    is: isCurrentState,\n    can: canTransit\n  };\n};\n\nexports.StateMachine = StateMachine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRlLW1hY2hpbmUuanMiXSwibmFtZXMiOlsidmFsaWRhdGVDbGFzaGluZ01ldGhvZHMiLCJ0cmFuc2l0aW9ucyIsImNsYXNoaW5nTWV0aG9kc05hbWUiLCJmaWx0ZXIiLCJuYW1lIiwiaW5jbHVkZXMiLCJtYXAiLCJsZW5ndGgiLCJFcnJvciIsImpvaW4iLCJ2YWxpZGF0ZUluaXRpYWxEYXRhRm9ybWF0IiwiaW5pdCIsIlN0YXRlTWFjaGluZSIsImN1cnJlbnRTdGF0ZSIsInRyYW5zaXRpb25NZXRob2RzIiwiZm9yRWFjaCIsImZyb20iLCJ0byIsImdldFBvc3NpYmxlVHJhbnNpdGlvbiIsImlzQ3VycmVudFN0YXRlIiwic3RhdGUiLCJjYW5UcmFuc2l0IiwidHJhbnNpdGlvbiIsInRhcmdldFRyYW5zaXRpb24iLCJmaW5kIiwiaXMiLCJjYW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSx1QkFBdUIsR0FBSUMsV0FBRCxJQUFpQjtBQUM3QyxRQUFNQyxtQkFBbUIsR0FBR0QsV0FBVyxDQUFDRSxNQUFaLENBQW1CLENBQUM7QUFBQ0MsSUFBQUE7QUFBRCxHQUFELEtBQVksQ0FBQyxLQUFELEVBQVEsSUFBUixFQUFjLE9BQWQsRUFBdUIsYUFBdkIsRUFBc0NDLFFBQXRDLENBQStDRCxJQUEvQyxDQUEvQixFQUFxRkUsR0FBckYsQ0FBeUYsQ0FBQztBQUFDRixJQUFBQTtBQUFELEdBQUQsS0FBWUEsSUFBckcsQ0FBNUI7O0FBRUEsTUFBSUYsbUJBQW1CLENBQUNLLE1BQXBCLEdBQTZCLENBQWpDLEVBQW9DO0FBQ2hDLFVBQU1DLEtBQUssQ0FBRSxHQUFFTixtQkFBbUIsQ0FBQ0ssTUFBTyx3QkFBdUJMLG1CQUFtQixDQUFDTyxJQUFwQixDQUF5QixJQUF6QixDQUErQixnQ0FBckYsQ0FBWDtBQUNIO0FBQ0osQ0FORDs7QUFRQSxNQUFNQyx5QkFBeUIsR0FBRyxDQUFDO0FBQUNDLEVBQUFBLElBQUQ7QUFBT1YsRUFBQUEsV0FBVyxHQUFHO0FBQXJCLENBQUQsS0FBOEI7QUFDNUQsTUFBSSxDQUFDVSxJQUFMLEVBQVc7QUFDUCxVQUFNSCxLQUFLLENBQUMsMkJBQUQsQ0FBWDtBQUNIOztBQUVELE1BQUlQLFdBQVcsQ0FBQ00sTUFBWixLQUF1QixDQUEzQixFQUE4QjtBQUMxQixVQUFNQyxLQUFLLENBQUMsbUNBQUQsQ0FBWDtBQUNIO0FBQ0osQ0FSRDs7QUFXTyxNQUFNSSxZQUFZLEdBQUcsQ0FBQztBQUFDRCxFQUFBQSxJQUFEO0FBQU9WLEVBQUFBLFdBQVcsR0FBRztBQUFyQixDQUFELEtBQThCO0FBQ3REUyxFQUFBQSx5QkFBeUIsQ0FBQztBQUFDQyxJQUFBQSxJQUFEO0FBQU9WLElBQUFBO0FBQVAsR0FBRCxDQUF6QjtBQUNBRCxFQUFBQSx1QkFBdUIsQ0FBQ0MsV0FBRCxDQUF2QjtBQUVBLE1BQUlZLFlBQVksR0FBR0YsSUFBbkI7QUFDQSxRQUFNRyxpQkFBaUIsR0FBRyxFQUExQjs7QUFFQSxNQUFJYixXQUFXLENBQUNNLE1BQVosR0FBcUIsQ0FBekIsRUFBNEI7QUFDeEJOLElBQUFBLFdBQVcsQ0FBQ2MsT0FBWixDQUFvQixDQUFDO0FBQUNYLE1BQUFBLElBQUQ7QUFBT1ksTUFBQUEsSUFBUDtBQUFhQyxNQUFBQTtBQUFiLEtBQUQsS0FBc0I7QUFDdENILE1BQUFBLGlCQUFpQixDQUFDVixJQUFELENBQWpCLEdBQTBCLE1BQU07QUFDNUIsWUFBSVksSUFBSSxDQUFDWCxRQUFMLENBQWNRLFlBQWQsQ0FBSixFQUFpQztBQUM3QkEsVUFBQUEsWUFBWSxHQUFHSSxFQUFmO0FBQ0EsaUJBQU8sSUFBUDtBQUNIOztBQUNELGVBQU8sS0FBUDtBQUNILE9BTkQ7QUFPSCxLQVJEO0FBU0g7O0FBRUQsUUFBTUMscUJBQXFCLEdBQUcsTUFBTWpCLFdBQVcsQ0FDMUNFLE1BRCtCLENBQ3hCLENBQUM7QUFBQ2EsSUFBQUE7QUFBRCxHQUFELEtBQVlBLElBQUksQ0FBQ1gsUUFBTCxDQUFjUSxZQUFkLENBRFksRUFFL0JQLEdBRitCLENBRTNCLENBQUM7QUFBQ0YsSUFBQUE7QUFBRCxHQUFELEtBQVlBLElBRmUsQ0FBcEM7O0FBS0EsUUFBTWUsY0FBYyxHQUFJQyxLQUFELElBQVdBLEtBQUssS0FBS1AsWUFBNUM7O0FBRUEsUUFBTVEsVUFBVSxHQUFJQyxVQUFELElBQWdCO0FBQy9CLFVBQU1DLGdCQUFnQixHQUFHdEIsV0FBVyxDQUFDdUIsSUFBWixDQUFpQixDQUFDO0FBQUNwQixNQUFBQTtBQUFELEtBQUQsS0FBWUEsSUFBSSxLQUFLa0IsVUFBdEMsQ0FBekI7O0FBQ0EsUUFBSUMsZ0JBQUosRUFBc0I7QUFDbEIsYUFBT0EsZ0JBQWdCLENBQUNQLElBQWpCLENBQXNCWCxRQUF0QixDQUErQlEsWUFBL0IsQ0FBUDtBQUNIOztBQUNELFdBQU8sS0FBUDtBQUNILEdBTkQ7O0FBUUEsU0FBTztBQUNITyxJQUFBQSxLQUFLLEVBQUUsTUFBTVAsWUFEVjtBQUVILE9BQUdDLGlCQUZBO0FBR0hiLElBQUFBLFdBQVcsRUFBRWlCLHFCQUhWO0FBSUhPLElBQUFBLEVBQUUsRUFBRU4sY0FKRDtBQUtITyxJQUFBQSxHQUFHLEVBQUVMO0FBTEYsR0FBUDtBQU9ILENBekNNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy95aXNoZW5nL1Byb2plY3RzL2FwcHJvdmUtd29ya2Zsb3cvc2VydmVyL3NyYy91dGlscy9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHZhbGlkYXRlQ2xhc2hpbmdNZXRob2RzID0gKHRyYW5zaXRpb25zKSA9PiB7XG4gICAgY29uc3QgY2xhc2hpbmdNZXRob2RzTmFtZSA9IHRyYW5zaXRpb25zLmZpbHRlcigoe25hbWV9KSA9PiBbJ2NhbicsICdpcycsICdzdGF0ZScsICd0cmFuc2l0aW9ucyddLmluY2x1ZGVzKG5hbWUpKS5tYXAoKHtuYW1lfSkgPT4gbmFtZSlcblxuICAgIGlmIChjbGFzaGluZ01ldGhvZHNOYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7Y2xhc2hpbmdNZXRob2RzTmFtZS5sZW5ndGh9IHRyYW5zaXRpb24gbWV0aG9kcyAoJHtjbGFzaGluZ01ldGhvZHNOYW1lLmpvaW4oJywgJyl9KSBjbGFzaGVkIHdpdGggZGVmYXVsdCBtZXRob2QgYClcbiAgICB9XG59XG5cbmNvbnN0IHZhbGlkYXRlSW5pdGlhbERhdGFGb3JtYXQgPSAoe2luaXQsIHRyYW5zaXRpb25zID0gW119KSA9PiB7XG4gICAgaWYgKCFpbml0KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdJbml0aWFsIHN0YXRlIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICBpZiAodHJhbnNpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdBdCBsZWFzdCBvbmUgdHJhbnNpdGlvbiBpcyBuZWVkZWQnKVxuICAgIH1cbn1cblxuXG5leHBvcnQgY29uc3QgU3RhdGVNYWNoaW5lID0gKHtpbml0LCB0cmFuc2l0aW9ucyA9IFtdfSkgPT4ge1xuICAgIHZhbGlkYXRlSW5pdGlhbERhdGFGb3JtYXQoe2luaXQsIHRyYW5zaXRpb25zfSlcbiAgICB2YWxpZGF0ZUNsYXNoaW5nTWV0aG9kcyh0cmFuc2l0aW9ucylcblxuICAgIGxldCBjdXJyZW50U3RhdGUgPSBpbml0XG4gICAgY29uc3QgdHJhbnNpdGlvbk1ldGhvZHMgPSB7fVxuXG4gICAgaWYgKHRyYW5zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJhbnNpdGlvbnMuZm9yRWFjaCgoe25hbWUsIGZyb20sIHRvfSkgPT4ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbk1ldGhvZHNbbmFtZV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20uaW5jbHVkZXMoY3VycmVudFN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSB0b1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQb3NzaWJsZVRyYW5zaXRpb24gPSAoKSA9PiB0cmFuc2l0aW9uc1xuICAgICAgICAuZmlsdGVyKCh7ZnJvbX0pID0+IGZyb20uaW5jbHVkZXMoY3VycmVudFN0YXRlKSlcbiAgICAgICAgLm1hcCgoe25hbWV9KSA9PiBuYW1lKVxuXG5cbiAgICBjb25zdCBpc0N1cnJlbnRTdGF0ZSA9IChzdGF0ZSkgPT4gc3RhdGUgPT09IGN1cnJlbnRTdGF0ZVxuXG4gICAgY29uc3QgY2FuVHJhbnNpdCA9ICh0cmFuc2l0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFRyYW5zaXRpb24gPSB0cmFuc2l0aW9ucy5maW5kKCh7bmFtZX0pID0+IG5hbWUgPT09IHRyYW5zaXRpb24pXG4gICAgICAgIGlmICh0YXJnZXRUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0VHJhbnNpdGlvbi5mcm9tLmluY2x1ZGVzKGN1cnJlbnRTdGF0ZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZTogKCkgPT4gY3VycmVudFN0YXRlLFxuICAgICAgICAuLi50cmFuc2l0aW9uTWV0aG9kcyxcbiAgICAgICAgdHJhbnNpdGlvbnM6IGdldFBvc3NpYmxlVHJhbnNpdGlvbixcbiAgICAgICAgaXM6IGlzQ3VycmVudFN0YXRlLFxuICAgICAgICBjYW46IGNhblRyYW5zaXQsXG4gICAgfVxufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "state-machine.js"
      ],
      "names": [
        "validateClashingMethods",
        "transitions",
        "clashingMethodsName",
        "filter",
        "name",
        "includes",
        "map",
        "length",
        "Error",
        "join",
        "validateInitialDataFormat",
        "init",
        "StateMachine",
        "currentState",
        "transitionMethods",
        "forEach",
        "from",
        "to",
        "getPossibleTransition",
        "isCurrentState",
        "state",
        "canTransit",
        "transition",
        "targetTransition",
        "find",
        "is",
        "can"
      ],
      "mappings": ";;;;;;;AAAA,MAAMA,uBAAuB,GAAIC,WAAD,IAAiB;AAC7C,QAAMC,mBAAmB,GAAGD,WAAW,CAACE,MAAZ,CAAmB,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAY,CAAC,KAAD,EAAQ,IAAR,EAAc,OAAd,EAAuB,aAAvB,EAAsCC,QAAtC,CAA+CD,IAA/C,CAA/B,EAAqFE,GAArF,CAAyF,CAAC;AAACF,IAAAA;AAAD,GAAD,KAAYA,IAArG,CAA5B;;AAEA,MAAIF,mBAAmB,CAACK,MAApB,GAA6B,CAAjC,EAAoC;AAChC,UAAMC,KAAK,CAAE,GAAEN,mBAAmB,CAACK,MAAO,wBAAuBL,mBAAmB,CAACO,IAApB,CAAyB,IAAzB,CAA+B,gCAArF,CAAX;AACH;AACJ,CAND;;AAQA,MAAMC,yBAAyB,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOV,EAAAA,WAAW,GAAG;AAArB,CAAD,KAA8B;AAC5D,MAAI,CAACU,IAAL,EAAW;AACP,UAAMH,KAAK,CAAC,2BAAD,CAAX;AACH;;AAED,MAAIP,WAAW,CAACM,MAAZ,KAAuB,CAA3B,EAA8B;AAC1B,UAAMC,KAAK,CAAC,mCAAD,CAAX;AACH;AACJ,CARD;;AAWO,MAAMI,YAAY,GAAG,CAAC;AAACD,EAAAA,IAAD;AAAOV,EAAAA,WAAW,GAAG;AAArB,CAAD,KAA8B;AACtDS,EAAAA,yBAAyB,CAAC;AAACC,IAAAA,IAAD;AAAOV,IAAAA;AAAP,GAAD,CAAzB;AACAD,EAAAA,uBAAuB,CAACC,WAAD,CAAvB;AAEA,MAAIY,YAAY,GAAGF,IAAnB;AACA,QAAMG,iBAAiB,GAAG,EAA1B;;AAEA,MAAIb,WAAW,CAACM,MAAZ,GAAqB,CAAzB,EAA4B;AACxBN,IAAAA,WAAW,CAACc,OAAZ,CAAoB,CAAC;AAACX,MAAAA,IAAD;AAAOY,MAAAA,IAAP;AAAaC,MAAAA;AAAb,KAAD,KAAsB;AACtCH,MAAAA,iBAAiB,CAACV,IAAD,CAAjB,GAA0B,MAAM;AAC5B,YAAIY,IAAI,CAACX,QAAL,CAAcQ,YAAd,CAAJ,EAAiC;AAC7BA,UAAAA,YAAY,GAAGI,EAAf;AACA,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH,OAND;AAOH,KARD;AASH;;AAED,QAAMC,qBAAqB,GAAG,MAAMjB,WAAW,CAC1CE,MAD+B,CACxB,CAAC;AAACa,IAAAA;AAAD,GAAD,KAAYA,IAAI,CAACX,QAAL,CAAcQ,YAAd,CADY,EAE/BP,GAF+B,CAE3B,CAAC;AAACF,IAAAA;AAAD,GAAD,KAAYA,IAFe,CAApC;;AAKA,QAAMe,cAAc,GAAIC,KAAD,IAAWA,KAAK,KAAKP,YAA5C;;AAEA,QAAMQ,UAAU,GAAIC,UAAD,IAAgB;AAC/B,UAAMC,gBAAgB,GAAGtB,WAAW,CAACuB,IAAZ,CAAiB,CAAC;AAACpB,MAAAA;AAAD,KAAD,KAAYA,IAAI,KAAKkB,UAAtC,CAAzB;;AACA,QAAIC,gBAAJ,EAAsB;AAClB,aAAOA,gBAAgB,CAACP,IAAjB,CAAsBX,QAAtB,CAA+BQ,YAA/B,CAAP;AACH;;AACD,WAAO,KAAP;AACH,GAND;;AAQA,SAAO;AACHO,IAAAA,KAAK,EAAE,MAAMP,YADV;AAEH,OAAGC,iBAFA;AAGHb,IAAAA,WAAW,EAAEiB,qBAHV;AAIHO,IAAAA,EAAE,EAAEN,cAJD;AAKHO,IAAAA,GAAG,EAAEL;AALF,GAAP;AAOH,CAzCM",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/utils/services",
      "sourcesContent": [
        "const validateClashingMethods = (transitions) => {\n    const clashingMethodsName = transitions.filter(({name}) => ['can', 'is', 'state', 'transitions'].includes(name)).map(({name}) => name)\n\n    if (clashingMethodsName.length > 0) {\n        throw Error(`${clashingMethodsName.length} transition methods (${clashingMethodsName.join(', ')}) clashed with default method `)\n    }\n}\n\nconst validateInitialDataFormat = ({init, transitions = []}) => {\n    if (!init) {\n        throw Error('Initial state is required')\n    }\n\n    if (transitions.length === 0) {\n        throw Error('At least one transition is needed')\n    }\n}\n\n\nexport const StateMachine = ({init, transitions = []}) => {\n    validateInitialDataFormat({init, transitions})\n    validateClashingMethods(transitions)\n\n    let currentState = init\n    const transitionMethods = {}\n\n    if (transitions.length > 0) {\n        transitions.forEach(({name, from, to}) => {\n            transitionMethods[name] = () => {\n                if (from.includes(currentState)) {\n                    currentState = to\n                    return true\n                }\n                return false\n            }\n        })\n    }\n\n    const getPossibleTransition = () => transitions\n        .filter(({from}) => from.includes(currentState))\n        .map(({name}) => name)\n\n\n    const isCurrentState = (state) => state === currentState\n\n    const canTransit = (transition) => {\n        const targetTransition = transitions.find(({name}) => name === transition)\n        if (targetTransition) {\n            return targetTransition.from.includes(currentState)\n        }\n        return false\n    }\n\n    return {\n        state: () => currentState,\n        ...transitionMethods,\n        transitions: getPossibleTransition,\n        is: isCurrentState,\n        can: canTransit,\n    }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572866972030
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectDb = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow';\n\nconst connectDb = () => _mongoose.default.connect(DATABASE_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nexports.connectDb = connectDb;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkRBVEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJjb25uZWN0RGIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFlBQVosSUFBNEIsNENBQWpEOztBQUVPLE1BQU1HLFNBQVMsR0FBRyxNQUFNQyxrQkFBU0MsT0FBVCxDQUFpQkwsWUFBakIsRUFBK0I7QUFDMURNLEVBQUFBLGVBQWUsRUFBRSxJQUR5QztBQUUxREMsRUFBQUEsa0JBQWtCLEVBQUU7QUFGc0MsQ0FBL0IsQ0FBeEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgREFUQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMIHx8ICdtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2FwcHJvdmUtd29ya2Zsb3cnXG5cbmV4cG9ydCBjb25zdCBjb25uZWN0RGIgPSAoKSA9PiBtb25nb29zZS5jb25uZWN0KERBVEFCQVNFX1VSTCwge1xuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG59KVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "DATABASE_URL",
        "process",
        "env",
        "connectDb",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYF,YAAZ,IAA4B,4CAAjD;;AAEO,MAAMG,SAAS,GAAG,MAAMC,kBAASC,OAAT,CAAiBL,YAAjB,EAA+B;AAC1DM,EAAAA,eAAe,EAAE,IADyC;AAE1DC,EAAAA,kBAAkB,EAAE;AAFsC,CAA/B,CAAxB",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose'\n\nconst DATABASE_URL = process.env.DATABASE_URL || 'mongodb://127.0.0.1:27017/approve-workflow'\n\nexport const connectDb = () => mongoose.connect(DATABASE_URL, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572765060912
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
        "sourceFileName": "program.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProgram = exports.updateProgramStatus = exports.createProgram = exports.getAllPrograms = void 0;\n\nvar _program = require(\"../models/program\");\n\nconst getAllPrograms = async (req, res) => {\n  try {\n    const programs = await _program.Program.find({});\n    res.status(200).json({\n      data: programs.map(program => {\n        return {\n          title: program.title,\n          _id: program._id,\n          status: program.status,\n          transitions: program.stateMachine.transitions()\n        };\n      })\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.getAllPrograms = getAllPrograms;\n\nconst createProgram = async (req, res) => {\n  try {\n    const program = new _program.Program();\n    program.title = req.body.title;\n    program.status = req.body.status;\n    await program.save();\n    res.status(200).json({\n      data: {\n        _id: program.id\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.createProgram = createProgram;\n\nconst updateProgramStatus = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    const transit = program.transition(req.query.action);\n    program.save();\n    res.status(200).json({\n      data: {\n        success: transit\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.updateProgramStatus = updateProgramStatus;\n\nconst deleteProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n    program.remove();\n    res.status(200).json({\n      data: {\n        success: true\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.deleteProgram = deleteProgram;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyYW0uanMiXSwibmFtZXMiOlsiZ2V0QWxsUHJvZ3JhbXMiLCJyZXEiLCJyZXMiLCJwcm9ncmFtcyIsIlByb2dyYW0iLCJmaW5kIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJtYXAiLCJwcm9ncmFtIiwidGl0bGUiLCJfaWQiLCJ0cmFuc2l0aW9ucyIsInN0YXRlTWFjaGluZSIsImVyciIsImNyZWF0ZVByb2dyYW0iLCJib2R5Iiwic2F2ZSIsImlkIiwidXBkYXRlUHJvZ3JhbVN0YXR1cyIsImZpbmRPbmUiLCJwYXJhbXMiLCJ0cmFuc2l0IiwidHJhbnNpdGlvbiIsInF1ZXJ5IiwiYWN0aW9uIiwic3VjY2VzcyIsImRlbGV0ZVByb2dyYW0iLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxjQUFjLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzlDLE1BQUk7QUFDQSxVQUFNQyxRQUFRLEdBQUcsTUFBTUMsaUJBQVFDLElBQVIsQ0FBYSxFQUFiLENBQXZCO0FBRUFILElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxNQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ00sR0FBVCxDQUFjQyxPQUFELElBQWE7QUFDNUIsZUFBTztBQUNIQyxVQUFBQSxLQUFLLEVBQUVELE9BQU8sQ0FBQ0MsS0FEWjtBQUVIQyxVQUFBQSxHQUFHLEVBQUVGLE9BQU8sQ0FBQ0UsR0FGVjtBQUdITixVQUFBQSxNQUFNLEVBQUVJLE9BQU8sQ0FBQ0osTUFIYjtBQUlITyxVQUFBQSxXQUFXLEVBQUVILE9BQU8sQ0FBQ0ksWUFBUixDQUFxQkQsV0FBckI7QUFKVixTQUFQO0FBTUgsT0FQSztBQURXLEtBQXJCO0FBVUgsR0FiRCxDQWFFLE9BQU9FLEdBQVAsRUFBWTtBQUNWYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlEsR0FBckI7QUFDSDtBQUNKLENBakJNOzs7O0FBbUJBLE1BQU1DLGFBQWEsR0FBRyxPQUFPZixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0MsTUFBSTtBQUVBLFVBQU1RLE9BQU8sR0FBRyxJQUFJTixnQkFBSixFQUFoQjtBQUNBTSxJQUFBQSxPQUFPLENBQUNDLEtBQVIsR0FBZ0JWLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU04sS0FBekI7QUFDQUQsSUFBQUEsT0FBTyxDQUFDSixNQUFSLEdBQWlCTCxHQUFHLENBQUNnQixJQUFKLENBQVNYLE1BQTFCO0FBQ0EsVUFBTUksT0FBTyxDQUFDUSxJQUFSLEVBQU47QUFFQWhCLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxNQUFBQSxJQUFJLEVBQUU7QUFDRkksUUFBQUEsR0FBRyxFQUFFRixPQUFPLENBQUNTO0FBRFg7QUFEVyxLQUFyQjtBQU1ILEdBYkQsQ0FhRSxPQUFPSixHQUFQLEVBQVk7QUFDVmIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJRLEdBQXJCO0FBQ0g7QUFDSixDQWpCTTs7OztBQW1CQSxNQUFNSyxtQkFBbUIsR0FBRyxPQUFPbkIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ25ELE1BQUk7QUFDQSxVQUFNUSxPQUFPLEdBQUcsTUFBTU4saUJBQVFpQixPQUFSLENBQWdCO0FBQUNULE1BQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDcUIsTUFBSixDQUFXSDtBQUFqQixLQUFoQixDQUF0QjtBQUNBLFVBQU1JLE9BQU8sR0FBR2IsT0FBTyxDQUFDYyxVQUFSLENBQW1CdkIsR0FBRyxDQUFDd0IsS0FBSixDQUFVQyxNQUE3QixDQUFoQjtBQUNBaEIsSUFBQUEsT0FBTyxDQUFDUSxJQUFSO0FBRUFoQixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZtQixRQUFBQSxPQUFPLEVBQUVKO0FBRFA7QUFEVyxLQUFyQjtBQU1ILEdBWEQsQ0FXRSxPQUFPUixHQUFQLEVBQVk7QUFDVmIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJRLEdBQXJCO0FBQ0g7QUFDSixDQWZNOzs7O0FBaUJBLE1BQU1hLGFBQWEsR0FBRyxPQUFPM0IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzdDLE1BQUk7QUFFQSxVQUFNUSxPQUFPLEdBQUcsTUFBTU4saUJBQVFpQixPQUFSLENBQWdCO0FBQUNULE1BQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDcUIsTUFBSixDQUFXSDtBQUFqQixLQUFoQixDQUF0QjtBQUNBVCxJQUFBQSxPQUFPLENBQUNtQixNQUFSO0FBRUEzQixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZtQixRQUFBQSxPQUFPLEVBQUU7QUFEUDtBQURXLEtBQXJCO0FBTUgsR0FYRCxDQVdFLE9BQU9aLEdBQVAsRUFBWTtBQUNWYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlEsR0FBckI7QUFDSDtBQUNKLENBZk0iLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQcm9ncmFtfSBmcm9tICcuLi9tb2RlbHMvcHJvZ3JhbSdcblxuZXhwb3J0IGNvbnN0IGdldEFsbFByb2dyYW1zID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbXMgPSBhd2FpdCBQcm9ncmFtLmZpbmQoe30pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YTogcHJvZ3JhbXMubWFwKChwcm9ncmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHByb2dyYW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIF9pZDogcHJvZ3JhbS5faWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcHJvZ3JhbS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBwcm9ncmFtLnN0YXRlTWFjaGluZS50cmFuc2l0aW9ucygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSgpXG4gICAgICAgIHByb2dyYW0udGl0bGUgPSByZXEuYm9keS50aXRsZVxuICAgICAgICBwcm9ncmFtLnN0YXR1cyA9IHJlcS5ib2R5LnN0YXR1c1xuICAgICAgICBhd2FpdCBwcm9ncmFtLnNhdmUoKVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBfaWQ6IHByb2dyYW0uaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZ3JhbVN0YXR1cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG4gICAgICAgIGNvbnN0IHRyYW5zaXQgPSBwcm9ncmFtLnRyYW5zaXRpb24ocmVxLnF1ZXJ5LmFjdGlvbilcbiAgICAgICAgcHJvZ3JhbS5zYXZlKClcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJhbnNpdFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQcm9ncmFtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gYXdhaXQgUHJvZ3JhbS5maW5kT25lKHtfaWQ6IHJlcS5wYXJhbXMuaWR9KVxuICAgICAgICBwcm9ncmFtLnJlbW92ZSgpXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "program.js"
      ],
      "names": [
        "getAllPrograms",
        "req",
        "res",
        "programs",
        "Program",
        "find",
        "status",
        "json",
        "data",
        "map",
        "program",
        "title",
        "_id",
        "transitions",
        "stateMachine",
        "err",
        "createProgram",
        "body",
        "save",
        "id",
        "updateProgramStatus",
        "findOne",
        "params",
        "transit",
        "transition",
        "query",
        "action",
        "success",
        "deleteProgram",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "sourcesContent": [
        "import {Program} from '../models/program'\n\nexport const getAllPrograms = async (req, res) => {\n    try {\n        const programs = await Program.find({})\n\n        res.status(200).json({\n            data: programs.map((program) => {\n                return {\n                    title: program.title,\n                    _id: program._id,\n                    status: program.status,\n                    transitions: program.stateMachine.transitions()\n                }\n            })\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const createProgram = async (req, res) => {\n    try {\n\n        const program = new Program()\n        program.title = req.body.title\n        program.status = req.body.status\n        await program.save()\n\n        res.status(200).json({\n            data: {\n                _id: program.id\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const updateProgramStatus = async (req, res) => {\n    try {\n        const program = await Program.findOne({_id: req.params.id})\n        const transit = program.transition(req.query.action)\n        program.save()\n\n        res.status(200).json({\n            data: {\n                success: transit\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const deleteProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n        program.remove()\n\n        res.status(200).json({\n            data: {\n                success: true\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572866864310
  },
  "{\"sourceRoot\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/yisheng/Projects/approve-workflow/server\",\"filename\":\"/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/yisheng/Projects/approve-workflow/server\",\"plugins\":[{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/yisheng/Projects/approve-workflow/server",
      "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/yisheng/Projects/approve-workflow/server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/yisheng/Projects/approve-workflow/server/src/controllers/program.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
        "sourceFileName": "program.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteProgram = exports.updateProgramStatus = exports.createProgram = exports.getAllPrograms = void 0;\n\nvar _program = require(\"../models/program\");\n\nconst getAllPrograms = async (req, res) => {\n  try {\n    const programs = await _program.Program.find({});\n    res.status(200).json({\n      data: programs.map(program => {\n        return {\n          title: program.title,\n          _id: program._id,\n          status: program.status,\n          transitions: program.stateMachine.transitions()\n        };\n      })\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.getAllPrograms = getAllPrograms;\n\nconst createProgram = async (req, res) => {\n  try {\n    const program = new _program.Program();\n    program.title = req.body.title;\n    program.status = req.body.status;\n    await program.save();\n    res.status(200).json({\n      data: {\n        _id: program.id\n      }\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.createProgram = createProgram;\n\nconst updateProgramStatus = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n\n    if (program) {\n      const transit = program.transition(req.query.action);\n      program.save();\n      res.status(200).json({\n        data: {\n          success: transit\n        }\n      });\n    }\n\n    res.status(404).json({\n      'error': 'Not Found'\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.updateProgramStatus = updateProgramStatus;\n\nconst deleteProgram = async (req, res) => {\n  try {\n    const program = await _program.Program.findOne({\n      _id: req.params.id\n    });\n\n    if (program) {\n      await program.remove();\n      res.status(200).json({\n        data: {\n          success: true\n        }\n      });\n    }\n\n    res.status(404).json({\n      'error': 'Not Found'\n    });\n  } catch (err) {\n    res.status(500).json(err);\n  }\n};\n\nexports.deleteProgram = deleteProgram;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2dyYW0uanMiXSwibmFtZXMiOlsiZ2V0QWxsUHJvZ3JhbXMiLCJyZXEiLCJyZXMiLCJwcm9ncmFtcyIsIlByb2dyYW0iLCJmaW5kIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJtYXAiLCJwcm9ncmFtIiwidGl0bGUiLCJfaWQiLCJ0cmFuc2l0aW9ucyIsInN0YXRlTWFjaGluZSIsImVyciIsImNyZWF0ZVByb2dyYW0iLCJib2R5Iiwic2F2ZSIsImlkIiwidXBkYXRlUHJvZ3JhbVN0YXR1cyIsImZpbmRPbmUiLCJwYXJhbXMiLCJ0cmFuc2l0IiwidHJhbnNpdGlvbiIsInF1ZXJ5IiwiYWN0aW9uIiwic3VjY2VzcyIsImRlbGV0ZVByb2dyYW0iLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFTyxNQUFNQSxjQUFjLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzlDLE1BQUk7QUFDQSxVQUFNQyxRQUFRLEdBQUcsTUFBTUMsaUJBQVFDLElBQVIsQ0FBYSxFQUFiLENBQXZCO0FBRUFILElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxNQUFBQSxJQUFJLEVBQUVMLFFBQVEsQ0FBQ00sR0FBVCxDQUFjQyxPQUFELElBQWE7QUFDNUIsZUFBTztBQUNIQyxVQUFBQSxLQUFLLEVBQUVELE9BQU8sQ0FBQ0MsS0FEWjtBQUVIQyxVQUFBQSxHQUFHLEVBQUVGLE9BQU8sQ0FBQ0UsR0FGVjtBQUdITixVQUFBQSxNQUFNLEVBQUVJLE9BQU8sQ0FBQ0osTUFIYjtBQUlITyxVQUFBQSxXQUFXLEVBQUVILE9BQU8sQ0FBQ0ksWUFBUixDQUFxQkQsV0FBckI7QUFKVixTQUFQO0FBTUgsT0FQSztBQURXLEtBQXJCO0FBVUgsR0FiRCxDQWFFLE9BQU9FLEdBQVAsRUFBWTtBQUNWYixJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlEsR0FBckI7QUFDSDtBQUNKLENBakJNOzs7O0FBbUJBLE1BQU1DLGFBQWEsR0FBRyxPQUFPZixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0MsTUFBSTtBQUVBLFVBQU1RLE9BQU8sR0FBRyxJQUFJTixnQkFBSixFQUFoQjtBQUNBTSxJQUFBQSxPQUFPLENBQUNDLEtBQVIsR0FBZ0JWLEdBQUcsQ0FBQ2dCLElBQUosQ0FBU04sS0FBekI7QUFDQUQsSUFBQUEsT0FBTyxDQUFDSixNQUFSLEdBQWlCTCxHQUFHLENBQUNnQixJQUFKLENBQVNYLE1BQTFCO0FBQ0EsVUFBTUksT0FBTyxDQUFDUSxJQUFSLEVBQU47QUFFQWhCLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxNQUFBQSxJQUFJLEVBQUU7QUFDRkksUUFBQUEsR0FBRyxFQUFFRixPQUFPLENBQUNTO0FBRFg7QUFEVyxLQUFyQjtBQU1ILEdBYkQsQ0FhRSxPQUFPSixHQUFQLEVBQVk7QUFDVmIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJRLEdBQXJCO0FBQ0g7QUFDSixDQWpCTTs7OztBQW1CQSxNQUFNSyxtQkFBbUIsR0FBRyxPQUFPbkIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ25ELE1BQUk7QUFDQSxVQUFNUSxPQUFPLEdBQUcsTUFBTU4saUJBQVFpQixPQUFSLENBQWdCO0FBQUNULE1BQUFBLEdBQUcsRUFBRVgsR0FBRyxDQUFDcUIsTUFBSixDQUFXSDtBQUFqQixLQUFoQixDQUF0Qjs7QUFFQSxRQUFJVCxPQUFKLEVBQWE7QUFDVCxZQUFNYSxPQUFPLEdBQUdiLE9BQU8sQ0FBQ2MsVUFBUixDQUFtQnZCLEdBQUcsQ0FBQ3dCLEtBQUosQ0FBVUMsTUFBN0IsQ0FBaEI7QUFDQWhCLE1BQUFBLE9BQU8sQ0FBQ1EsSUFBUjtBQUVBaEIsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLFFBQUFBLElBQUksRUFBRTtBQUNGbUIsVUFBQUEsT0FBTyxFQUFFSjtBQURQO0FBRFcsT0FBckI7QUFLSDs7QUFFRHJCLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUMsZUFBUztBQUFWLEtBQXJCO0FBRUgsR0FoQkQsQ0FnQkUsT0FBT1EsR0FBUCxFQUFZO0FBQ1ZiLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCUSxHQUFyQjtBQUNIO0FBQ0osQ0FwQk07Ozs7QUFzQkEsTUFBTWEsYUFBYSxHQUFHLE9BQU8zQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0MsTUFBSTtBQUVBLFVBQU1RLE9BQU8sR0FBRyxNQUFNTixpQkFBUWlCLE9BQVIsQ0FBZ0I7QUFBQ1QsTUFBQUEsR0FBRyxFQUFFWCxHQUFHLENBQUNxQixNQUFKLENBQVdIO0FBQWpCLEtBQWhCLENBQXRCOztBQUNBLFFBQUlULE9BQUosRUFBYTtBQUNULFlBQU1BLE9BQU8sQ0FBQ21CLE1BQVIsRUFBTjtBQUVBM0IsTUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDakJDLFFBQUFBLElBQUksRUFBRTtBQUNGbUIsVUFBQUEsT0FBTyxFQUFFO0FBRFA7QUFEVyxPQUFyQjtBQUtIOztBQUVEekIsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQyxlQUFTO0FBQVYsS0FBckI7QUFFSCxHQWZELENBZUUsT0FBT1EsR0FBUCxFQUFZO0FBQ1ZiLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCUSxHQUFyQjtBQUNIO0FBQ0osQ0FuQk0iLCJzb3VyY2VSb290IjoiL1VzZXJzL3lpc2hlbmcvUHJvamVjdHMvYXBwcm92ZS13b3JrZmxvdy9zZXJ2ZXIvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQcm9ncmFtfSBmcm9tICcuLi9tb2RlbHMvcHJvZ3JhbSdcblxuZXhwb3J0IGNvbnN0IGdldEFsbFByb2dyYW1zID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbXMgPSBhd2FpdCBQcm9ncmFtLmZpbmQoe30pXG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgZGF0YTogcHJvZ3JhbXMubWFwKChwcm9ncmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHByb2dyYW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIF9pZDogcHJvZ3JhbS5faWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcHJvZ3JhbS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBwcm9ncmFtLnN0YXRlTWFjaGluZS50cmFuc2l0aW9ucygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSgpXG4gICAgICAgIHByb2dyYW0udGl0bGUgPSByZXEuYm9keS50aXRsZVxuICAgICAgICBwcm9ncmFtLnN0YXR1cyA9IHJlcS5ib2R5LnN0YXR1c1xuICAgICAgICBhd2FpdCBwcm9ncmFtLnNhdmUoKVxuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBfaWQ6IHByb2dyYW0uaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZ3JhbVN0YXR1cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBhd2FpdCBQcm9ncmFtLmZpbmRPbmUoe19pZDogcmVxLnBhcmFtcy5pZH0pXG5cbiAgICAgICAgaWYgKHByb2dyYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaXQgPSBwcm9ncmFtLnRyYW5zaXRpb24ocmVxLnF1ZXJ5LmFjdGlvbilcbiAgICAgICAgICAgIHByb2dyYW0uc2F2ZSgpXG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRyYW5zaXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeydlcnJvcic6ICdOb3QgRm91bmQnfSlcblxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZGVsZXRlUHJvZ3JhbSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGF3YWl0IFByb2dyYW0uZmluZE9uZSh7X2lkOiByZXEucGFyYW1zLmlkfSlcbiAgICAgICAgaWYgKHByb2dyYW0pIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2dyYW0ucmVtb3ZlKClcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7J2Vycm9yJzogJ05vdCBGb3VuZCd9KVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICB9XG59XG5cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "program.js"
      ],
      "names": [
        "getAllPrograms",
        "req",
        "res",
        "programs",
        "Program",
        "find",
        "status",
        "json",
        "data",
        "map",
        "program",
        "title",
        "_id",
        "transitions",
        "stateMachine",
        "err",
        "createProgram",
        "body",
        "save",
        "id",
        "updateProgramStatus",
        "findOne",
        "params",
        "transit",
        "transition",
        "query",
        "action",
        "success",
        "deleteProgram",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/yisheng/Projects/approve-workflow/server/src/controllers",
      "sourcesContent": [
        "import {Program} from '../models/program'\n\nexport const getAllPrograms = async (req, res) => {\n    try {\n        const programs = await Program.find({})\n\n        res.status(200).json({\n            data: programs.map((program) => {\n                return {\n                    title: program.title,\n                    _id: program._id,\n                    status: program.status,\n                    transitions: program.stateMachine.transitions()\n                }\n            })\n        })\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const createProgram = async (req, res) => {\n    try {\n\n        const program = new Program()\n        program.title = req.body.title\n        program.status = req.body.status\n        await program.save()\n\n        res.status(200).json({\n            data: {\n                _id: program.id\n            }\n        })\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const updateProgramStatus = async (req, res) => {\n    try {\n        const program = await Program.findOne({_id: req.params.id})\n\n        if (program) {\n            const transit = program.transition(req.query.action)\n            program.save()\n\n            res.status(200).json({\n                data: {\n                    success: transit\n                }\n            })\n        }\n\n        res.status(404).json({'error': 'Not Found'})\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\nexport const deleteProgram = async (req, res) => {\n    try {\n\n        const program = await Program.findOne({_id: req.params.id})\n        if (program) {\n            await program.remove()\n\n            res.status(200).json({\n                data: {\n                    success: true\n                }\n            })\n        }\n\n        res.status(404).json({'error': 'Not Found'})\n\n    } catch (err) {\n        res.status(500).json(err)\n    }\n}\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1572867367031
  }
}